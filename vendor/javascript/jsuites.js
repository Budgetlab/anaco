// jsuites@5.12.0 downloaded from https://ga.jspm.io/npm:jsuites@5.12.0/dist/jsuites.js

var e=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var t={};(function(e,n){t=n()})(0,(function(){var t;(function(){var n={195:function(t){(function(e,n){t.exports=n()})(0,(function(){return function(t){function n(t,n){(this||e).highOrder=t;(this||e).lowOrder=n}var i=[new n(1779033703,4089235720),new n(3144134277,2227873595),new n(1013904242,4271175723),new n(2773480762,1595750129),new n(1359893119,2917565137),new n(2600822924,725511199),new n(528734635,4215389547),new n(1541459225,327033209)];var o=[new n(1116352408,3609767458),new n(1899447441,602891725),new n(3049323471,3964484399),new n(3921009573,2173295548),new n(961987163,4081628472),new n(1508970993,3053834265),new n(2453635748,2937671579),new n(2870763221,3664609560),new n(3624381080,2734883394),new n(310598401,1164996542),new n(607225278,1323610764),new n(1426881987,3590304994),new n(1925078388,4068182383),new n(2162078206,991336113),new n(2614888103,633803317),new n(3248222580,3479774868),new n(3835390401,2666613458),new n(4022224774,944711139),new n(264347078,2341262773),new n(604807628,2007800933),new n(770255983,1495990901),new n(1249150122,1856431235),new n(1555081692,3175218132),new n(1996064986,2198950837),new n(2554220882,3999719339),new n(2821834349,766784016),new n(2952996808,2566594879),new n(3210313671,3203337956),new n(3336571891,1034457026),new n(3584528711,2466948901),new n(113926993,3758326383),new n(338241895,168717936),new n(666307205,1188179964),new n(773529912,1546045734),new n(1294757372,1522805485),new n(1396182291,2643833823),new n(1695183700,2343527390),new n(1986661051,1014477480),new n(2177026350,1206759142),new n(2456956037,344077627),new n(2730485921,1290863460),new n(2820302411,3158454273),new n(3259730800,3505952657),new n(3345764771,106217008),new n(3516065817,3606008344),new n(3600352804,1432725776),new n(4094571909,1467031594),new n(275423344,851169720),new n(430227734,3100823752),new n(506948616,1363258195),new n(659060556,3750685593),new n(883997877,3785050280),new n(958139571,3318307427),new n(1322822218,3812723403),new n(1537002063,2003034995),new n(1747873779,3602036899),new n(1955562222,1575990012),new n(2024104815,1125592928),new n(2227730452,2716904306),new n(2361852424,442776044),new n(2428436474,593698344),new n(2756734187,3733110249),new n(3204031479,2999351573),new n(3329325298,3815920427),new n(3391569614,3928383900),new n(3515267271,566280711),new n(3940187606,3454069534),new n(4118630271,4000239992),new n(116418474,1914138554),new n(174292421,2731055270),new n(289380356,3203993006),new n(460393269,320620315),new n(685471733,587496836),new n(852142971,1086792851),new n(1017036298,365543100),new n(1126000580,2618297676),new n(1288033470,3409855158),new n(1501505948,4234509866),new n(1607167915,987167468),new n(1816402316,1246189591)];var a=new Array(64);var r,s,l,d,c,u,p,f;var h,v;var m=8;function g(e){return unescape(encodeURIComponent(e))}function y(e){var t=[];var n=(1<<m)-1;var i=e.length*m;for(var o=0;o<i;o+=m)t[o>>5]|=(e.charCodeAt(o/m)&n)<<32-m-o%32;return t}function b(e){var t="0123456789abcdef";var n="";var i=e.length*4;var o;for(var a=0;a<i;a+=1){o=e[a>>2]>>8*(3-a%4);n+=t.charAt(o>>4&15)+t.charAt(o&15)}return n}function x(e,t){var i,o,a,r;i=(e.lowOrder&65535)+(t.lowOrder&65535);o=(e.lowOrder>>>16)+(t.lowOrder>>>16)+(i>>>16);a=(o&65535)<<16|i&65535;i=(e.highOrder&65535)+(t.highOrder&65535)+(o>>>16);o=(e.highOrder>>>16)+(t.highOrder>>>16)+(i>>>16);r=(o&65535)<<16|i&65535;return new n(r,a)}function w(e,t,i,o){var a,r,s,l;a=(e.lowOrder&65535)+(t.lowOrder&65535)+(i.lowOrder&65535)+(o.lowOrder&65535);r=(e.lowOrder>>>16)+(t.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a>>>16);s=(r&65535)<<16|a&65535;a=(e.highOrder&65535)+(t.highOrder&65535)+(i.highOrder&65535)+(o.highOrder&65535)+(r>>>16);r=(e.highOrder>>>16)+(t.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a>>>16);l=(r&65535)<<16|a&65535;return new n(l,s)}function L(e,t,i,o,a){var r,s,l,d;r=(e.lowOrder&65535)+(t.lowOrder&65535)+(i.lowOrder&65535)+(o.lowOrder&65535)+(a.lowOrder&65535);s=(e.lowOrder>>>16)+(t.lowOrder>>>16)+(i.lowOrder>>>16)+(o.lowOrder>>>16)+(a.lowOrder>>>16)+(r>>>16);l=(s&65535)<<16|r&65535;r=(e.highOrder&65535)+(t.highOrder&65535)+(i.highOrder&65535)+(o.highOrder&65535)+(a.highOrder&65535)+(s>>>16);s=(e.highOrder>>>16)+(t.highOrder>>>16)+(i.highOrder>>>16)+(o.highOrder>>>16)+(a.highOrder>>>16)+(r>>>16);d=(s&65535)<<16|r&65535;return new n(d,l)}function j(e,t,i){return new n(e.highOrder&t.highOrder^e.highOrder&i.highOrder^t.highOrder&i.highOrder,e.lowOrder&t.lowOrder^e.lowOrder&i.lowOrder^t.lowOrder&i.lowOrder)}function E(e,t,i){return new n(e.highOrder&t.highOrder^~e.highOrder&i.highOrder,e.lowOrder&t.lowOrder^~e.lowOrder&i.lowOrder)}function C(e,t){return t<=32?new n(e.highOrder>>>t|e.lowOrder<<32-t,e.lowOrder>>>t|e.highOrder<<32-t):new n(e.lowOrder>>>t|e.highOrder<<32-t,e.highOrder>>>t|e.lowOrder<<32-t)}function T(e){var t=C(e,28);var i=C(e,34);var o=C(e,39);return new n(t.highOrder^i.highOrder^o.highOrder,t.lowOrder^i.lowOrder^o.lowOrder)}function k(e){var t=C(e,14);var i=C(e,18);var o=C(e,41);return new n(t.highOrder^i.highOrder^o.highOrder,t.lowOrder^i.lowOrder^o.lowOrder)}function A(e){var t=C(e,1),i=C(e,8),o=N(e,7);return new n(t.highOrder^i.highOrder^o.highOrder,t.lowOrder^i.lowOrder^o.lowOrder)}function O(e){var t=C(e,19);var i=C(e,61);var o=N(e,6);return new n(t.highOrder^i.highOrder^o.highOrder,t.lowOrder^i.lowOrder^o.lowOrder)}function N(e,t){return t<=32?new n(e.highOrder>>>t,e.lowOrder>>>t|e.highOrder<<32-t):new n(0,e.highOrder<<32-t)}t=g(t);var M=t.length*m;t=y(t);t[M>>5]|=128<<24-M%32;t[31+(M+128>>10<<5)]=M;for(var D=0;D<t.length;D+=32){r=i[0];s=i[1];l=i[2];d=i[3];c=i[4];u=i[5];p=i[6];f=i[7];for(var I=0;I<80;I++){a[I]=I<16?new n(t[I*2+D],t[I*2+D+1]):w(O(a[I-2]),a[I-7],A(a[I-15]),a[I-16]);h=L(f,k(c),E(c,u,p),o[I],a[I]);v=x(T(r),j(r,s,l));f=p;p=u;u=c;c=x(d,h);d=l;l=s;s=r;r=x(h,v)}i[0]=x(r,i[0]);i[1]=x(s,i[1]);i[2]=x(l,i[2]);i[3]=x(d,i[3]);i[4]=x(c,i[4]);i[5]=x(u,i[5]);i[6]=x(p,i[6]);i[7]=x(f,i[7])}var S=[];for(D=0;D<i.length;D++){S.push(i[D].highOrder);S.push(i[D].lowOrder)}return b(S)}}))}};var i={};function o(e){var t=i[e];if(t!==void 0)return t.exports;var a=i[e]={exports:{}};n[e].call(a.exports,a,a.exports,o);return a.exports}!function(){o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};o.d(t,{a:t});return t}}();!function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}();!function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var a={};!function(){o.d(a,{default:function(){return ae}});var n=function(e){document.dictionary||(document.dictionary={});var t=null;var n=Object.keys(e);for(t=0;t<n.length;t++)document.dictionary[n[t]]=e[n[t]]};var i=function(e){return typeof document!=="undefined"&&document.dictionary&&document.dictionary[e]||e};var r={setDictionary:n,translate:i};const s=function(e,t){if(t===true){window.jSuitesStateControl=window.jSuitesStateControl.filter((function(e){return e!==null}));setTimeout((function(){window.jSuitesStateControl.push(e)}),0)}else{var n=window.jSuitesStateControl.indexOf(e);n>=0&&window.jSuitesStateControl.splice(n,1)}};var l=s;var d={};d.two=function(e){e=""+e;e.length==1&&(e="0"+e);return e};d.focus=function(e){if(e.textContent.length){const t=document.createRange();const n=window.getSelection();let i=e;while(i.lastChild)i=i.lastChild;i.nodeType===Node.TEXT_NODE?t.setStart(i,i.length):t.setStart(i,i.childNodes.length);t.collapse(true);n.removeAllRanges();n.addRange(t);e.scrollLeft=e.scrollWidth}};d.isNumeric=function(e){typeof e==="string"&&(e=e.trim());return!isNaN(e)&&e!==null&&e!==""};d.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)}))};d.getNode=function(){var e=document.getSelection().anchorNode;return e?e.nodeType==3?e.parentNode:e:null};d.hash=function(e){var t,n,i=0;if(e.length===0)return i;for(t=0;t<e.length;t++){n=e.charCodeAt(t);if(n>32){i=(i<<5)-i+n;i|=0}}return i};d.randomColor=function(e){var t=-.25;var n=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i,o,a=[];for(o=0;o<3;o++){i=parseInt(n.substr(o*2,2),16);i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16);a.push(("00"+i).substr(i.length))}return e==true?"#"+d.two(a[0].toString(16))+d.two(a[1].toString(16))+d.two(a[2].toString(16)):a};d.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],o=e.innerWidth||n.clientWidth||i.clientWidth;return o};d.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],o=e.innerHeight||n.clientHeight||i.clientHeight;return o};d.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0]){var t=e.changedTouches[0].pageX;var n=e.changedTouches[0].pageY}else{t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)}return[t,n]};d.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:true,cancelable:true,view:window});e.dispatchEvent(t)}};d.findElement=function(e,t){var n=false;function i(e){e&&!n&&(typeof t=="function"?n=t(e):typeof t=="string"&&e.classList&&e.classList.contains(t)&&(n=e));e.parentNode&&!n&&i(e.parentNode)}i(e);return n};var c=d;const u=function(e){return typeof e==="object"||typeof e==="function"};function p(t,n,i){if(typeof t!=="string"||t.length===0)return;const o=t.split(".");if(o.length===0)return;let a=this||e;if(typeof n==="undefined"&&typeof i==="undefined"){for(let e=0;e<o.length;e++){const t=o[e];if(a==null||!u(a)||!Object.prototype.hasOwnProperty.call(a,t))return;a=a[t]}return a}for(let e=0;e<o.length-1;e++){const n=o[e];if(a==null||!u(a)){console.warn(`Cannot set value: path '${t}' blocked by invalid object at '${n}'`);return false}(!Object.prototype.hasOwnProperty.call(a,n)||a[n]!=null&&u(a[n]))&&Object.prototype.hasOwnProperty.call(a,n)||(a[n]={});a=a[n]}const r=o[o.length-1];if(a==null||!u(a))return false;if(i===true){if(Object.prototype.hasOwnProperty.call(a,r)){delete a[r];return true}return false}a[r]=n;return true}function f(e,t){var n={};n.options={};var i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null};var o=null;for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];e.classList.add("jsorting");e.addEventListener("dragstart",(function(t){let i=t.target;if(i.nodeType===3){if(i.parentNode.getAttribute("draggable")!=="true"){t.preventDefault();t.stopPropagation();return}i=i.parentNode}if(i.getAttribute("draggable")==="true"){let a=Array.prototype.indexOf.call(i.parentNode.children,i);o={element:i,o:a,d:a};i.style.opacity="0.25";typeof n.options.ondragstart=="function"&&n.options.ondragstart(e,i,t);t.dataTransfer.setDragImage(i,0,0)}}));e.addEventListener("dragover",(function(e){e.preventDefault();if(o&&r(e.target)&&e.target.getAttribute("draggable")=="true"&&o.element!=e.target){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(o.element,e.target):e.target.parentNode.insertBefore(o.element,e.target.nextSibling);o.d=Array.prototype.indexOf.call(e.target.parentNode.children,o.element)}}));e.addEventListener("dragleave",(function(e){e.preventDefault()}));e.addEventListener("dragend",(function(t){t.preventDefault();if(o){typeof n.options.ondragend=="function"&&n.options.ondragend(e,o.element,t);o.o<o.d?t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o]):t.target.parentNode.insertBefore(o.element,t.target.parentNode.children[o.o].nextSibling);o.element.style.opacity="";o=null}}));e.addEventListener("drop",(function(t){t.preventDefault();if(o){o.o!==o.d&&typeof n.options.ondrop=="function"&&n.options.ondrop(e,o.o,o.d,o.element,t.target,t);o.element.style.opacity="";o=null}}));var r=function(e){var t=false;function n(e){e.className&&e.classList.contains("jsorting")&&(t=true);t||n(e.parentNode)}n(e);return t};for(var s=0;s<e.children.length;s++)e.children[s].hasAttribute("draggable")||e.children[s].setAttribute("draggable","true");e.val=function(){var t=null;var n=[];for(var i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n};return e}function h(e,t){var n={};t.loadUp&&typeof t.loadUp=="function"||(t.loadUp=function(){return false});t.loadDown&&typeof t.loadDown=="function"||(t.loadDown=function(){return false});t.timer||(t.timer=100);var i=null;var o=function(n){if(i==null){var o=false;var a=e.scrollTop;if(e.scrollTop+e.clientHeight*2>=e.scrollHeight){if(t.loadDown()){a==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight);o=true}}else if(e.scrollTop<=e.clientHeight&&t.loadUp()){a==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight);o=true}i=setTimeout((function(){i=null}),t.timer);o&&typeof t.onupdate=="function"&&t.onupdate()}};e.onscroll=function(e){o(e)};e.onwheel=function(e){o(e)};return n}function v(){var e=function(t,n){if(Array.isArray(t)){var i={instance:[],complete:n};if(t.length>0)for(var o=0;o<t.length;o++){t[o].multiple=i;i.instance.push(e(t[o]))}return i}t.data||(t.data={});t.type&&(t.method=t.type);t.method||(t.method="GET");t.dataType||(t.dataType="json");if(t.data){var a=function(e,t){var n=[];if(e){var i=Object.keys(e);if(i.length)for(var o=0;o<i.length;o++){if(t)var r=t+"["+i[o]+"]";else r=i[o];if(e[r]instanceof FileList)n[r]=e[i[o]];else if(e[i[o]]===null||e[i[o]]===void 0)n[r]="";else if(typeof e[i[o]]=="object"){var s=a(e[i[o]],r);var l=Object.keys(s);for(var d=0;d<l.length;d++)n[l[d]]=s[l[d]]}else n[r]=e[i[o]]}}return n};var r=a(t.data);var s=Object.keys(r);if(t.method=="GET"){if(s.length){var l=[];for(o=0;o<s.length;o++)l.push(s[o]+"="+encodeURIComponent(r[s[o]]));t.url.indexOf("?")<0&&(t.url+="?");t.url+=l.join("&")}}else{l=new FormData;for(o=0;o<s.length;o++)if(r[s[o]]instanceof FileList){if(r[s[o]].length)for(var d=0;d<r[s[o]].length;d++)l.append(s[o],r[s[o]][d],r[s[o]][d].name)}else l.append(s[o],r[s[o]])}}var c=new XMLHttpRequest;c.open(t.method,t.url,true);t.requestedWith?c.setRequestHeader("X-Requested-With",t.requestedWith):t.requestedWith!==false&&c.setRequestHeader("X-Requested-With","XMLHttpRequest");t.contentType&&c.setRequestHeader("Content-Type",t.contentType);t.method==="POST"?c.setRequestHeader("Accept","application/json"):t.dataType==="blob"?c.responseType="blob":t.contentType||(t.dataType==="json"?c.setRequestHeader("Content-Type","text/json"):t.dataType==="html"&&c.setRequestHeader("Content-Type","text/html"));if(t.cache!==true){c.setRequestHeader("pragma","no-cache");c.setRequestHeader("cache-control","no-cache")}t.withCredentials===true&&(c.withCredentials=true);typeof t.beforeSend=="function"&&t.beforeSend(c);typeof e.beforeSend=="function"&&e.beforeSend(c);document.ajax&&typeof document.ajax.beforeSend=="function"&&document.ajax.beforeSend(c);c.onerror=function(){t.error&&typeof t.error=="function"&&t.error({message:"Network error: Unable to reach the server.",status:0})};c.ontimeout=function(){t.error&&typeof t.error=="function"&&t.error({message:"Request timed out after "+c.timeout+"ms.",status:0})};c.onload=function(){if(c.status>=200&&c.status<300)if(t.dataType==="json")try{var n=JSON.parse(c.responseText);t.success&&typeof t.success=="function"&&t.success(n)}catch(e){t.error&&typeof t.error=="function"&&t.error(e,n)}else{if(t.dataType==="blob")n=c.response;else n=c.responseText;t.success&&typeof t.success=="function"&&t.success(n)}else t.error&&typeof t.error=="function"&&t.error(c.responseText,c.status);e.queue&&e.queue.length>0&&e.send(e.queue.shift());if(e.requests&&e.requests.length){var i=e.requests.indexOf(c);e.requests.splice(i,1);e.requests.length||t.complete&&typeof t.complete=="function"&&t.complete(n);if(t.group&&e.oncomplete&&typeof e.oncomplete[t.group]=="function"&&!e.pending(t.group)){e.oncomplete[t.group]();e.oncomplete[t.group]=null}if(t.multiple&&t.multiple.instance){i=t.multiple.instance.indexOf(c);t.multiple.instance.splice(i,1);t.multiple.instance.length||t.multiple.complete&&typeof t.multiple.complete=="function"&&t.multiple.complete(n)}}};c.options=t;c.data=l;t.queue===true&&e.requests.length>0?e.queue.push(c):e.send(c);return c};e.send=function(t){t.data?Array.isArray(t.data)?t.send(t.data.join("&")):t.send(t.data):t.send();e.requests.push(t)};e.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,false);n.send();n.status&&t(n.status)};e.pending=function(t){var n=0;var i=e.requests;if(i&&i.length)for(var o=0;o<i.length;o++)t&&t!=i[o].options.group||n++;return n};e.oncomplete={};e.requests=[];e.queue=[];return e}var m=v();function g(){const e={loading:{}};e.loading.show=function(t){if(!e.loading.element){e.loading.element=document.createElement("div");e.loading.element.className="jloading"}document.body.appendChild(e.loading.element);t>0&&setTimeout((function(){e.loading.hide()}),t*1e3)};e.loading.hide=function(){e.loading.element&&e.loading.element.parentNode&&document.body.removeChild(e.loading.element)};e.slideLeft=function(e,t,n){if(t==true){e.classList.add("jslide-left-in");setTimeout((function(){e.classList.remove("jslide-left-in");typeof n=="function"&&n()}),400)}else{e.classList.add("jslide-left-out");setTimeout((function(){e.classList.remove("jslide-left-out");typeof n=="function"&&n()}),400)}};e.slideRight=function(e,t,n){if(t===true){e.classList.add("jslide-right-in");setTimeout((function(){e.classList.remove("jslide-right-in");typeof n=="function"&&n()}),400)}else{e.classList.add("jslide-right-out");setTimeout((function(){e.classList.remove("jslide-right-out");typeof n=="function"&&n()}),400)}};e.slideTop=function(e,t,n){if(t===true){e.classList.add("jslide-top-in");setTimeout((function(){e.classList.remove("jslide-top-in");typeof n=="function"&&n()}),400)}else{e.classList.add("jslide-top-out");setTimeout((function(){e.classList.remove("jslide-top-out");typeof n=="function"&&n()}),400)}};e.slideBottom=function(e,t,n){if(t===true){e.classList.add("jslide-bottom-in");setTimeout((function(){e.classList.remove("jslide-bottom-in");typeof n=="function"&&n()}),400)}else{e.classList.add("jslide-bottom-out");setTimeout((function(){e.classList.remove("jslide-bottom-out");typeof n=="function"&&n()}),100)}};e.fadeIn=function(e,t){e.style.display="";e.classList.add("jfade-in");setTimeout((function(){e.classList.remove("jfade-in");typeof t=="function"&&t()}),2e3)};e.fadeOut=function(e,t){e.classList.add("jfade-out");setTimeout((function(){e.style.display="none";e.classList.remove("jfade-out");typeof t=="function"&&t()}),1e3)};return e}var b=g();function w(){var e={};e.now=function(e,t){var n=null;var i=null;var o=null;var a=null;var r=null;var s=null;if(Array.isArray(e)){n=e[0];i=e[1];o=e[2];a=e[3];r=e[4];s=e[5]}else{e||(e=new Date);n=e.getFullYear();i=e.getMonth()+1;o=e.getDate();a=e.getHours();r=e.getMinutes();s=e.getSeconds()}return t==true?c.two(n)+"-"+c.two(i)+"-"+c.two(o):c.two(n)+"-"+c.two(i)+"-"+c.two(o)+" "+c.two(a)+":"+c.two(r)+":"+c.two(s)};e.toArray=function(e){var t=e.split(e.indexOf("T")!==-1?"T":" ");var n=t[1];t=t[0].split("-");var i=parseInt(t[0]);var o=parseInt(t[1]);var a=parseInt(t[2]);var r=0;var s=0;if(n){n=n.split(":");r=parseInt(n[0]);s=parseInt(n[1])}return[i,o,a,r,s,0]};var t=Date.UTC(1900,0,0);var n=Date.UTC(1900,1,29);var i=864e5;e.dateToNum=function(e){typeof e==="string"&&(e=new Date(e+"  GMT+0"));var o=e.getTime();o>=n&&(o+=i);o-=t;return o/i};e.numToDate=function(o){var a=t+o*i;a>=n&&(a-=i);const r=new Date(a);var s=[r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()];return e.now(s)};let o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let a=["January","February","March","April","May","June","July","August","September","October","November","December"];Object.defineProperty(e,"weekdays",{get:function(){return o.map((function(e){return r.translate(e)}))}});Object.defineProperty(e,"weekdaysShort",{get:function(){return o.map((function(e){return r.translate(e).substring(0,3)}))}});Object.defineProperty(e,"months",{get:function(){return a.map((function(e){return r.translate(e)}))}});Object.defineProperty(e,"monthsShort",{get:function(){return a.map((function(e){return r.translate(e).substring(0,3)}))}});return e}var L=w();function j(){var n={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],scientific:["0{1}(.{1}0+)?E{1}\\+0+"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]};var i=function(){if((this||e).mask.toLowerCase().indexOf("[h]")!==-1){var t=0;(this||e).date[4]&&(t=parseFloat((this||e).date[4]/60));var n=parseInt((this||e).date[3])+t;n/=24}else if((this||e).date[0]&&(this||e).date[1]&&(this||e).date[2]||!(this||e).date[3]&&!(this||e).date[4]){(this||e).date[0]&&(this||e).date[1]&&!(this||e).date[2]&&((this||e).date[2]=1);n=c.two((this||e).date[0])+"-"+c.two((this||e).date[1])+"-"+c.two((this||e).date[2]);((this||e).date[3]||(this||e).date[4]||(this||e).date[5])&&(n+=" "+c.two((this||e).date[3])+":"+c.two((this||e).date[4])+":"+c.two((this||e).date[5]))}else n=c.two((this||e).date[3])+":"+c.two((this||e).date[4])+":"+c.two((this||e).date[5]);return n};var o=function(){var t="";if((this||e).date[0]&&(this||e).date[1]&&(this||e).date[2]||!(this||e).date[3]&&!(this||e).date[4]){if((this||e).date[0]||(this||e).date[1]||(this||e).date[2]||(this||e).date[3]||(this||e).date[4]||(this||e).date[5]){(this||e).date[0]&&(this||e).date[1]&&!(this||e).date[2]&&((this||e).date[2]=1);var n=L.now((this||e).date);t=L.dateToNum(n)}}else{if((this||e).mask.toLowerCase().indexOf("[h]")!==-1)t=parseInt((this||e).date[3]);else{let n=parseInt((this||e).date[3]);t=n<13&&(this||e).values.indexOf("PM")!==-1?(n+12)%24:n%24}(this||e).date[4]&&(t+=parseFloat((this||e).date[4]/60));(this||e).date[5]&&(t+=parseFloat((this||e).date[5]/3600));t/=24}isNaN(t)&&(t="");return t};var a=function(e){return e===null||e===""||e===void 0};var r=function(e){var t=(""+e)[0];return t=="="};var s=function(e){return e==="currency"||e==="percentage"||e==="scientific"||e==="numeric"};var l=function(t){if(t&&Number(t)==t)return".";if((this||e).options.decimal)return(this||e).options.decimal;if((this||e).locale){var n=Intl.NumberFormat((this||e).locale).format(1.1);return(this||e).options.decimal=n[1]}t||(t=(this||e).mask);var i=new RegExp("0{1}(.{1})0+","ig");n=i.exec(t);if(n&&n[1]&&n[1].length==1){(this||e).options.decimal=n[1];return n[1]}i=new RegExp("#{1}(.{1})#+","ig");n=i.exec(t);n&&n[1]&&n[1].length==1?n[1]===","?(this||e).options.decimal=".":(this||e).options.decimal=",":(this||e).options.decimal="1.1".toLocaleString().substring(1,2);return(this||e).options.decimal?(this||e).options.decimal:null};var d=function(t,n){if(t=="")return"";n||(n=l.call(this||e));t=(""+t).split(n);var i=t[0].match(/[-]+/g);i=!(!i||!i.length);t[0]=t[0].match(/[0-9]+/g);if(t[0]){i&&t[0].unshift("-");t[0]=t[0].join("")}else i&&(t[0]="-");if(!t[0]&&!t[1])return"";if(t[1]!==void 0){t[1]=t[1].match(/[0-9]+/g);t[1]?t[1]=t[1].join(""):t[1]=""}return t};var u=function(t,n){if(t==="")return"";var i=l.call(this||e);var o=(this||e).options;t=d.call(this||e,t);if(t==="")return"";var a=null;t[0]&&(a=o.style==="percent"?parseFloat(t[0])/100:parseFloat(t[0]+".1"));if((t[0]==="-"||t[0]==="-00")&&!t[1]&&n&&n.inputType=="deleteContentBackward")return"";var r=new Intl.NumberFormat((this||e).locale,o).format(a);r=r.split(i);if(o.style==="percent"&&r[0].indexOf("%")!==-1){r[0]=r[0].replace("%","");r[2]="%"}if(typeof r[1]!=="undefined"){var s=r[1].replace(/[0-9]*/g,"");s&&(r[2]=s)}t[1]!==void 0?r[1]=i+t[1]:r[1]="";return r.join("")};var p=function(t,n){var i=v.call(t);if(i){var o=u.call(this||e,i,n);var a=o.length-i.length;var r=h.call(t)+a;v.call(t,o,r,true)}};var f=function(t){var n=d.call(this||e,t);if(n){n[0]==="-"&&(n[0]="-0");return parseFloat(n.join("."))}return null};var h=function(t,n){if(t===void 0){if((this||e).tagName=="DIV"){var i=0;var o=window.getSelection();if(o&&o.rangeCount!==0){var a=o.getRangeAt(0);var r=a.cloneRange();r.selectNodeContents(this||e);r.setEnd(a.endContainer,a.endOffset);i=r.toString().length}return i}return(this||e).selectionStart}var s=v.call(this||e);if(n){r=null;for(var l=0;l<s.length;l++)(s[l].match(/[\-0-9]/g)||s[l]==="."||s[l]===",")&&(r=l);r===null&&(r=s.indexOf(" "));t>=r&&(t=r+1)}t>s.length&&(t=s.length);if(t)if((this||e).tagName=="DIV"){o=window.getSelection();a=document.createRange();if((this||e).childNodes[0]){a.setStart((this||e).childNodes[0],t);o.removeAllRanges();o.addRange(a)}}else{(this||e).selectionStart=t;(this||e).selectionEnd=t}};var v=function(t,n,i){if((this||e).tagName=="DIV"){if(t===void 0){t=(this||e).innerText;(this||e).value&&(this||e).value.length>t.length&&(t=(this||e).value);return t}if((this||e).innerText!==t){(this||e).innerText=t;n&&h.call(this||e,n,i)}}else{if(t===void 0)return(this||e).value;if((this||e).value!==t){(this||e).value=t;n&&h.call(this||e,n,i)}}};var m=L.weekdays;var g=L.weekdaysShort;var y=L.months;var b=L.monthsShort;var x={YEAR:function(t,n){var i=""+(new Date).getFullYear();typeof(this||e).values[(this||e).index]==="undefined"&&((this||e).values[(this||e).index]="");parseInt(t)>=0&&parseInt(t)<=10&&(this||e).values[(this||e).index].length<n&&((this||e).values[(this||e).index]+=t);if((this||e).values[(this||e).index].length==n){if(n==2)i=i.substr(0,2)+(this||e).values[(this||e).index];else if(n==3)i=i.substr(0,1)+(this||e).values[(this||e).index];else if(n==4)i=(this||e).values[(this||e).index];(this||e).date[0]=i;(this||e).index++}},YYYY:function(t){x.YEAR.call(this||e,t,4)},YYY:function(t){x.YEAR.call(this||e,t,3)},YY:function(t){x.YEAR.call(this||e,t,2)},FIND:function(t,n){a((this||e).values[(this||e).index])&&((this||e).values[(this||e).index]="");if((this||e).event&&(this||e).event.inputType&&(this||e).event.inputType.indexOf("delete")>-1)(this||e).values[(this||e).index]+=t;else{var i=0;var o=0;var r=((this||e).values[(this||e).index]+t).toLowerCase();for(var s=0;s<n.length;s++)if(n[s].toLowerCase().indexOf(r)==0){i=s;o++}if(o>1)(this||e).values[(this||e).index]+=t;else if(o==1){var l=n[i].length-(this||e).values[(this||e).index].length-1;(this||e).position+=l;(this||e).values[(this||e).index]=n[i];(this||e).index++;return i}}},MMM:function(t){var n=x.FIND.call(this||e,t,b);n!==void 0&&((this||e).date[1]=n+1)},MON:function(t){x.MMM.call(this||e,t)},MMMM:function(t){var n=x.FIND.call(this||e,t,y);n!==void 0&&((this||e).date[1]=n+1)},MONTH:function(t){x.MMMM.call(this||e,t)},MMMMM:function(t){a((this||e).values[(this||e).index])&&((this||e).values[(this||e).index]="");var n=((this||e).values[(this||e).index]+t).toLowerCase();for(var i=0;i<y.length;i++)if(y[i][0].toLowerCase().indexOf(n)==0){(this||e).values[(this||e).index]=y[i][0];(this||e).date[1]=i+1;(this||e).index++;break}},MM:function(t){if(a((this||e).values[(this||e).index]))if(parseInt(t)>1&&parseInt(t)<10){(this||e).date[1]=(this||e).values[(this||e).index]="0"+t;(this||e).index++}else parseInt(t)<2&&((this||e).values[(this||e).index]=t);else if((this||e).values[(this||e).index]==1&&parseInt(t)<3){(this||e).date[1]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]==0&&parseInt(t)>0&&parseInt(t)<10){(this||e).date[1]=(this||e).values[(this||e).index]+=t;(this||e).index++}},M:function(t){var n=false;if(parseInt(t)>=0&&parseInt(t)<10)if(a((this||e).values[(this||e).index])){(this||e).values[(this||e).index]=t;if(t>1){(this||e).date[1]=(this||e).values[(this||e).index];(this||e).index++}}else if((this||e).values[(this||e).index]==1&&parseInt(t)<3){(this||e).date[1]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]==0&&parseInt(t)>0){(this||e).date[1]=(this||e).values[(this||e).index]+=t;(this||e).index++}else n=true;else n=true;if(n==true){var i=parseInt((this||e).values[(this||e).index]);if(i>0&&i<12){(this||e).date[1]=(this||e).values[(this||e).index];(this||e).index++;(this||e).position--}}},D:function(t){var n=false;if(parseInt(t)>=0&&parseInt(t)<10)if(a((this||e).values[(this||e).index])){(this||e).values[(this||e).index]=t;if(parseInt(t)>3){(this||e).date[2]=(this||e).values[(this||e).index];(this||e).index++}}else if((this||e).values[(this||e).index]==3&&parseInt(t)<2){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]==1||(this||e).values[(this||e).index]==2){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]==0&&parseInt(t)>0){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}else n=true;else n=true;if(n==true){var i=parseInt((this||e).values[(this||e).index]);if(i>0&&i<32){(this||e).date[2]=(this||e).values[(this||e).index];(this||e).index++;(this||e).position--}}},DD:function(t){if(a((this||e).values[(this||e).index]))if(parseInt(t)>3&&parseInt(t)<10){(this||e).date[2]=(this||e).values[(this||e).index]="0"+t;(this||e).index++}else parseInt(t)<10&&((this||e).values[(this||e).index]=t);else if((this||e).values[(this||e).index]==3&&parseInt(t)<2){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if(((this||e).values[(this||e).index]==1||(this||e).values[(this||e).index]==2)&&parseInt(t)<10){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]==0&&parseInt(t)>0&&parseInt(t)<10){(this||e).date[2]=(this||e).values[(this||e).index]+=t;(this||e).index++}},DDD:function(t){x.FIND.call(this||e,t,g)},DY:function(t){x.DDD.call(this||e,t)},DDDD:function(t){x.FIND.call(this||e,t,m)},DAY:function(t){x.DDDD.call(this||e,t)},HH12:function(t,n){var i=false;if(parseInt(t)>=0&&parseInt(t)<10)if(a((this||e).values[(this||e).index]))if(parseInt(t)>1&&parseInt(t)<10){n&&(t=0+t);(this||e).date[3]=(this||e).values[(this||e).index]=t;(this||e).index++}else parseInt(t)<10&&((this||e).values[(this||e).index]=t);else if((this||e).values[(this||e).index]==1&&parseInt(t)<3){(this||e).date[3]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]<1&&parseInt(t)<10){(this||e).date[3]=(this||e).values[(this||e).index]+=t;(this||e).index++}else i=true;else i=true;if(i==true){var o=parseInt((this||e).values[(this||e).index]);if(o>=0&&o<=12){(this||e).date[3]=(this||e).values[(this||e).index];(this||e).index++;(this||e).position--}}},HH24:function(t,n){var i=false;if(parseInt(t)>=0&&parseInt(t)<10)if((this||e).values[(this||e).index]==null||(this||e).values[(this||e).index]=="")if(parseInt(t)>2&&parseInt(t)<10){n&&(t=0+t);(this||e).date[3]=(this||e).values[(this||e).index]=t;(this||e).index++}else parseInt(t)<10&&((this||e).values[(this||e).index]=t);else if((this||e).values[(this||e).index]==2&&parseInt(t)<4){n||(this||e).values[(this||e).index]!=="0"||((this||e).values[(this||e).index]="");(this||e).date[3]=(this||e).values[(this||e).index]+=t;(this||e).index++}else if((this||e).values[(this||e).index]<2&&parseInt(t)<10){n||(this||e).values[(this||e).index]!=="0"||((this||e).values[(this||e).index]="");(this||e).date[3]=(this||e).values[(this||e).index]+=t;(this||e).index++}else i=true;else i=true;if(i==true){var o=parseInt((this||e).values[(this||e).index]);if(o>=0&&o<24){(this||e).date[3]=(this||e).values[(this||e).index];(this||e).index++;(this||e).position--}}},HH:function(t){x.HH24.call(this||e,t,1)},H:function(t){x.HH24.call(this||e,t,0)},"\\[H\\]":function(t){(this||e).values[(this||e).index]==void 0&&((this||e).values[(this||e).index]="");if(t.match(/[0-9]/g))(this||e).date[3]=(this||e).values[(this||e).index]+=t;else if((this||e).values[(this||e).index].match(/[0-9]/g)){(this||e).date[3]=(this||e).values[(this||e).index];(this||e).index++;(this||e).position--}},N60:function(t,n){if((this||e).values[(this||e).index]==null||(this||e).values[(this||e).index]=="")if(parseInt(t)>5&&parseInt(t)<10){(this||e).date[n]=(this||e).values[(this||e).index]="0"+t;(this||e).index++}else parseInt(t)<10&&((this||e).values[(this||e).index]=t);else if(parseInt(t)<10){(this||e).date[n]=(this||e).values[(this||e).index]+=t;(this||e).index++}},MI:function(t){x.N60.call(this||e,t,4)},SS:function(t){x.N60.call(this||e,t,5)},"AM/PM":function(t){typeof(this||e).values[(this||e).index]==="undefined"&&((this||e).values[(this||e).index]="");if((this||e).values[(this||e).index]==="")t.match(/a/i)&&(this||e).date[3]<13?(this||e).values[(this||e).index]+="A":t.match(/p/i)&&((this||e).values[(this||e).index]+="P");else if((this||e).values[(this||e).index]==="A"||(this||e).values[(this||e).index]==="P"){(this||e).values[(this||e).index]+="M";(this||e).index++}},WD:function(t){typeof(this||e).values[(this||e).index]==="undefined"&&((this||e).values[(this||e).index]="");parseInt(t)>=0&&parseInt(t)<7&&((this||e).values[(this||e).index]=t);(this||e).values[(this||e).index].length==1&&(this||e).index++},"0{1}(.{1}0+)?":function(t){var n=l.call(this||e);var i=false;a((this||e).values[(this||e).index])?(this||e).values[(this||e).index]="":(this||e).values[(this||e).index]=="-"&&(i=true);var o=d.call(this||e,(this||e).values[(this||e).index],n);o&&((this||e).values[(this||e).index]=o.join(n));if(parseInt(t)>=0&&parseInt(t)<10){(this||e).values[(this||e).index]=="0"&&t>0?(this||e).values[(this||e).index]="":(this||e).values[(this||e).index]=="-0"&&t>0&&((this||e).values[(this||e).index]="-");((this||e).values[(this||e).index]!="0"&&(this||e).values[(this||e).index]!="-0"||t==n)&&((this||e).values[(this||e).index]+=t)}else if(n&&t==n){if((this||e).values[(this||e).index].indexOf(n)==-1){(this||e).values[(this||e).index]||((this||e).values[(this||e).index]="0");(this||e).values[(this||e).index]+=t}}else t=="-"&&(i=true);i===true&&(this||e).values[(this||e).index][0]!=="-"&&((this||e).values[(this||e).index]="-"+(this||e).values[(this||e).index])},"0{1}(.{1}0+)?E{1}\\+0+":function(t){x["0{1}(.{1}0+)?"].call(this||e,t)},"0{1}(.{1}0+)?%":function(t){x["0{1}(.{1}0+)?"].call(this||e,t);(this||e).values[(this||e).index].match(/[\-0-9]/g)?(this||e).values[(this||e).index]&&(this||e).values[(this||e).index].indexOf("%")==-1&&((this||e).values[(this||e).index]+="%"):(this||e).values[(this||e).index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(t){x["0{1}(.{1}0+)?"].call(this||e,t);var n=l.call(this||e);var i=(this||e).tokens[(this||e).index].substr(1,1);var o=(this||e).values[(this||e).index][0]==="-";var a=d.call(this||e,(this||e).values[(this||e).index],n);if(a!==""){var r=a[0].match(/[0-9]/g);if(r){r=r.join("");var s=[];var c=0;for(var u=r.length-1;u>=0;u--){s.push(r[u]);c++;c%3||s.push(i)}s=s.reverse();a[0]=s.join("");a[0].substr(0,1)==i&&(a[0]=a[0].substr(1))}else a[0]="";(this||e).values[(this||e).index]=a.join(n);o&&((this||e).values[(this||e).index]="-"+(this||e).values[(this||e).index])}},0:function(t){if(t.match(/[0-9]/g)){(this||e).values[(this||e).index]=t;(this||e).index++}},"[0-9a-zA-Z$]+":function(t){a((this||e).values[(this||e).index])&&((this||e).values[(this||e).index]="");var n=(this||e).tokens[(this||e).index];var i=(this||e).values[(this||e).index];var o=i.length;if(n[o]==t){(this||e).values[(this||e).index]+=t;(this||e).values[(this||e).index]==n&&(this||e).index++}else{(this||e).values[(this||e).index]=n;(this||e).index++;t.match(/[\-0-9]/g)&&(this||e).position--}},A:function(t){if(t.match(/[a-zA-Z]/gi)){(this||e).values[(this||e).index]=t;(this||e).index++}},".":function(t){x["[0-9a-zA-Z$]+"].call(this||e,t)},"@":function(t){a((this||e).values[(this||e).index])&&((this||e).values[(this||e).index]="");(this||e).values[(this||e).index]+=t}};var w=function(t){if((this||e).type=="general")var i=[].concat(n.general);else i=[].concat(n.currency,n.datetime,n.percentage,n.scientific,n.numeric,n.text,n.general);var o=new RegExp(i.join("|"),"gi");return t.match(o)};var j=function(t){if((this||e).type)if((this||e).type=="text")i=["text"];else if((this||e).type=="general")i=["general"];else if((this||e).type=="datetime")i=["numeric","datetime","general"];else i=["currency","percentage","scientific","numeric","general"];else var i=Object.keys(n);for(var o=0;o<i.length;o++){var a=i[o];for(var r=0;r<n[a].length;r++){var s=new RegExp(n[a][r],"gi");var l=t.match(s);if(l)return{type:a,method:n[a][r]}}}};var E=function(t){var n=[];for(var i=0;i<t.length;i++){var o=j.call(this||e,t[i]);o?n.push(o.method):n.push(null)}for(i=0;i<n.length;i++)n[i]=="MM"&&(n[i-1]&&n[i-1].indexOf("H")>=0||n[i-2]&&n[i-2].indexOf("H")>=0||n[i+1]&&n[i+1].indexOf("S")>=0||n[i+2]&&n[i+2].indexOf("S")>=0)&&(n[i]="MI");return n};var C=function(t){var n=j.call(this||e,t);if(n)var i=n.type;if(i){var o=0;var a=w.call(this||e,t);for(var r=0;r<a.length;r++){n=j.call(this||e,a[r]);n&&s(n.type)&&o++}o>1&&(i="general")}return i};var T=function(){if(typeof x[(this||e).methods[(this||e).index]]=="function"){x[(this||e).methods[(this||e).index]].call(this||e,(this||e).value[(this||e).position]);(this||e).position++}else{(this||e).values[(this||e).index]=(this||e).tokens[(this||e).index];(this||e).index++}};var k=function(e){return(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(e,t,n,i,o){return o<0?t+"0."+Array(1-o-n.length).join(0)+n+i:t+n+i+Array(o-i.length+1).join(0)}))};
/**
         * Mask function
         * @param {mixed|string} JS input or a string to be parsed
         * @param {object|string} When the first param is a string, the second is the mask or object with the mask options
         */var A=function(e,t,n){var o=null;var a={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if(typeof e=="object"){a.input=e.target;a.value=v.call(e.target);a.caret=h.call(e.target);(o=e.target.getAttribute("data-mask"))&&(a.mask=o);(o=e.target.getAttribute("data-type"))&&(a.type=o);if(e.target.mask){e.target.mask.options&&(a.options=e.target.mask.options);e.target.mask.locale&&(a.locale=e.target.mask.locale)}else if(o=e.target.getAttribute("data-locale")){a.locale=o;a.mask&&(a.options.style=a.mask)}if(e.target.attributes&&e.target.attributes.length)for(var d=0;d<e.target.attributes.length;d++){var m=e.target.attributes[d].name;var g=e.target.attributes[d].value;m.substr(0,4)=="data"&&(a.options[m.substr(5)]=g)}}else{if(typeof t=="string")a.mask=t;else{m=Object.keys(t);for(d=0;d<m.length;d++)a[m[d]]=t[m[d]]}if(typeof e==="number"){l.call(a,a.mask);e=(""+e).replace(".",a.options.decimal)}a.value=e;if(a.input){v.call(a.input,e);c.focus(a.input);a.caret=h.call(a.input)}}if(!r(a.value)&&(a.mask||a.locale)){if(a.mask){a.mask=a.mask.replace(new RegExp(/\[h]/),"|h|");a.mask=a.mask.replace(new RegExp(/\[.*?\]/),"");a.mask=a.mask.replace(new RegExp(/\|h\|/),"[h]");if(a.mask.indexOf(";")!==-1){o=a.mask.split(";");a.mask=o[0]}if(a.mask.indexOf("##")!==-1){var y=a.mask.split(";");if(y[0]){if(typeof e=="object"){y[0]=y[0].replace(new RegExp(/_\)/g),"");y[0]=y[0].replace(new RegExp(/_\(/g),"")}y[0]=y[0].replace("*","\t");y[0]=y[0].replace(new RegExp(/_-/g),"");y[0]=y[0].replace(new RegExp(/_/g),"");y[0]=y[0].replace(new RegExp(/"/g),"");y[0]=y[0].replace("##0.###","##0.000");y[0]=y[0].replace("##0.##","##0.00");y[0]=y[0].replace("##0.#","##0.0");y[0]=y[0].replace("##0,###","##0,000");y[0]=y[0].replace("##0,##","##0,00");y[0]=y[0].replace("##0,#","##0,0")}a.mask=y[0]}if(a.mask.indexOf("\\")!==-1){y=a.mask.split(";");y[0]=y[0].replace(new RegExp(/\\/g),"");a.mask=y[0]}a.type||(a.type=C.call(a,a.mask));a.tokens=w.call(a,a.mask)}if(typeof e!=="object"||!e.inputType||!e.inputType.indexOf("insert")||!e.inputType.indexOf("delete"))if(a.locale)if(a.input)p.call(a,a.input,e);else var b=u.call(a,a.value);else{a.methods=E.call(a,a.tokens);a.event=e;while(a.position<a.value.length&&typeof a.tokens[a.index]!=="undefined")T.call(a);b=a.values.join("");if(s(a.type)&&b!==""){while(typeof a.tokens[a.index]!=="undefined"){o=j.call(a,a.tokens[a.index]);o&&o.type=="general"&&(a.values[a.index]=a.tokens[a.index]);a.index++}var x=true}else x=false;b=a.values.join("");if(a.input){o=b.length-a.value.length;if(o>0)var L=a.caret+o;else L=a.caret;v.call(a.input,b,L,x)}}if(a.input){var k=null;if(s(a.type)){let e=v.call(a.input);a.number=f.call(a,e);k=a.type=="percentage"&&(""+e).indexOf("%")!==-1?A.adjustPrecision(a.number/100):a.number}else if(a.type=="datetime"){k=i.call(a);a.date[0]&&a.date[1]&&a.date[2]&&a.input.setAttribute("data-completed",true)}k&&a.input.setAttribute("data-value",k)}if(b!==void 0)return n?a:b}};A.adjustPrecision=function(e){if(typeof e==="number"&&!Number.isInteger(e)){const t=e.toString().split(".");if(t[1]&&t[1].length>10){let n=0;const i=t[1][t[1].length-2];if(i==0||i==9){for(let e=t[1].length-2;e>0;e--){if(!(n>=0&&t[1][e]==i)){n=0;break}n++;if(n>6)break}if(n)return parseFloat(parseFloat(e).toFixed(t[1].length-1))}}}return e};A.getType=C;A.prepare=function(e,t){t||(t={});return w.call(t,e)};A.apply=function(e){var t=v.call(e.target);e.key.length==1&&(t+=e.key);v.call(e.target,A(t,e.target.getAttribute("data-mask")))};A.run=function(e,t,n){return A(e,{mask:t,decimal:n})};A.extract=function(e,t,n){if(a(e))return e;if(typeof t!="object")return e;t=Object.assign({},t);t.options||(t.options={});!t.mask&&t.format&&(t.mask=t.format);if(t.mask){if(t.mask.indexOf(";")!==-1){var i=t.mask.split(";");t.mask=i[0]}t.mask=t.mask.replace(new RegExp(/\[h]/),"|h|");t.mask=t.mask.replace(new RegExp(/\[.*?\]/),"");t.mask=t.mask.replace(new RegExp(/\|h\|/),"[h]")}l.call(t,t.mask);var r=null;var s=null;t.type=="percent"||t.options.style=="percent"?r="percentage":t.mask&&(r=C.call(t,t.mask));if(r==="text"){var d={};s=e}else if(r==="general"){d=A(e,t,true);s=e}else if(r==="datetime"){e instanceof Date&&(e=A.getDateString(e,t.mask));d=A(e,t,true);s=c.isNumeric(e)?e:o.call(d)}else if(r==="scientific"){s=e;typeof e==="string"&&(s=Number(s));d=t}else{s=f.call(t,e);r==="percentage"&&(""+e).indexOf("%")!==-1&&(s/=100);d=t}d.value=s;!d.type&&r&&(d.type=r);return n?d:s};A.render=function(e,n,i,o){if(a(e))return e;if(typeof n!="object")return e;n=Object.assign({},n);n.options||(n.options={});!n.mask&&n.format&&(n.mask=n.format);if(n.mask){if(n.mask.indexOf(";")!==-1){var r=n.mask.split(";");if(!i){r[0]=r[0].replace(new RegExp(/_\)/g),"");r[0]=r[0].replace(new RegExp(/_\(/g),"")}n.mask=r[0]}n.mask=n.mask.replace(new RegExp(/\[h]/),"|h|");n.mask=n.mask.replace(new RegExp(/\[.*?\]/),"");n.mask=n.mask.replace(new RegExp(/\|h\|/),"[h]")}var s=null;n.type=="percent"||n.options.style=="percent"?s="percentage":n.mask?s=C.call(n,n.mask):e instanceof Date&&(s="datetime");var d=false;if(s=="datetime"||n.type=="calendar"){r=A.getDateString(e,n.mask);r&&(e=r);n.mask&&i&&(d=true)}else if(s==="text")typeof e==="number"&&(e=e.toString());else{typeof e==="string"&&t.isNumeric(e)&&(e=Number(e));s==="percentage"&&(e=A.adjustPrecision(e*100));if(typeof e==="number"){r=null;if(n.mask&&i){var c=l.call(n,n.mask);if(s==="scientific")if(n.mask.indexOf(c)!==-1){let t=n.mask.split("E");t=t[0].split(c);t=""+t[1].match(/[0-9]+/g);t=t.length;r=e.toExponential(t)}else r=e.toExponential(0);else{if(n.mask.indexOf(c)!==-1){c=n.mask.split(c);c=""+c[1].match(/[0-9]+/g);c=c.length;r=e.toFixed(c);let t=e.toString().split(".");let i=t[1];i&&i.length>c&&i[i.length-1]==="5"&&(r=parseFloat(t[0]+"."+i+"1").toFixed(c))}else r=e.toFixed(0);(""+r).indexOf("e")!==-1&&(r=k(r))}}else if(n.locale&&i){c=(""+e).split(".");if(n.options){typeof c[1]==="undefined"&&(c[1]="");var u=c[1].length;if(n.options.minimumFractionDigits>u)for(var p=0;p<n.options.minimumFractionDigits-u;p++)c[1]+="0"}r=c[1].length?c.join("."):c[0];u=c[1].length;n.options&&n.options.maximumFractionDigits<u&&(r=parseFloat(r).toFixed(n.options.maximumFractionDigits))}else r=k(e);if(r!==null){e=r;l.call(n,n.mask);n.options.decimal&&(e=e.replace(".",n.options.decimal))}}else n.mask&&i&&(d=true)}if(d){var f=n.mask.length-e.length;if(f>0)for(p=0;p<f;p++)e+=" "}if(s==="scientific"){if(i)return e;e=k(e)}if(s==="numeric"&&o===false&&typeof e==="string")return e;e=A(e,n);if(i&&s==="numeric"){var h=n.mask.match(new RegExp(/^[0]+$/gm));if(h&&h.length===1){var v=h[0].length;if(v>3){e=""+e;while(e.length<v)e="0"+e}}}return e};A.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:true,cancelable:true});e.dispatchEvent(n)}};A.extractDateFromString=function(e,t){var n=A(e,{mask:t},true);if(e>0&&Number(e)==e&&(n.values.join("")!==n.value||n.type=="numeric")){var i=new Date(Math.round(86400*(e-25569)*1e3));return i.getFullYear()+"-"+c.two(i.getMonth())+"-"+c.two(i.getDate())+" 00:00:00"}var o=false;n.values&&n.values.length===n.tokens.length&&n.values[n.values.length-1].length>=n.tokens[n.tokens.length-1].length&&(o=true);if(n.date[0]&&n.date[1]&&(n.date[2]||o)){n.date[2]||(n.date[2]=1);return n.date[0]+"-"+c.two(n.date[1])+"-"+c.two(n.date[2])+" "+c.two(n.date[3])+":"+c.two(n.date[4])+":"+c.two(n.date[5])}return""};A.getDateString=function(t,n){if(!n)n={};if(n&&typeof n=="object"){if(n.format)var i=n.format;else if(n.mask)i=n.mask}else i=n;i||(i="YYYY-MM-DD");if(i.indexOf("[h]")>=0){var o=0;if(t&&c.isNumeric(t)){o=parseFloat(24*Number(t));if(i.indexOf("mm")>=0){var a=(""+o).split(".");if(a[1]){var r=60*parseFloat("0."+a[1]);r=parseFloat(r.toFixed(2))}else r=0;o=parseInt(a[0])+":"+c.two(r)}}return o}t instanceof Date?t=L.now(t):t&&c.isNumeric(t)&&(t=L.numToDate(t));var s=["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."];var l=new RegExp(s.join("|"),"gi");var d=i.match(l);for(var u=0;u<d.length;u++)d[u].toUpperCase()=="MM"&&(d[u-1]&&d[u-1].toUpperCase().indexOf("H")>=0||d[u-2]&&d[u-2].toUpperCase().indexOf("H")>=0||d[u+1]&&d[u+1].toUpperCase().indexOf("S")>=0||d[u+2]&&d[u+2].toUpperCase().indexOf("S")>=0)&&(d[u]="mi");var p={tokens:d};if(t){r=""+t;var f=r.indexOf("T")!==-1?"T":" ";r=r.split(f);a=0;var h=0;var v=0;if(r[1]){a=r[1].split(":");h=a[1]?a[1]:0;v=a[2]?a[2]:0;a=a[0]?a[0]:0}r=r[0].split("-");let n=new Date(r[0],r[1],0).getDate();if(r[0]&&r[1]&&r[2]&&r[0]>0&&r[1]>0&&r[1]<13&&r[2]>0&&r[2]<=n){p.data=[r[0],r[1],r[2],a,h,v];p.value=[];var m=new Date(p.data[0],p.data[1]-1,p.data[2],p.data[3],p.data[4],p.data[5]);var g=function(t){var n=(this||e).tokens[t];var i=n.toUpperCase();var o=null;if(i==="YYYY")o=(this||e).data[0];else if(i==="YYY")o=(this||e).data[0].substring(1,4);else if(i==="YY")o=(this||e).data[0].substring(2,4);else if(i==="Y")o=(this||e).data[0].substring(3,4);else if(n==="MON")o=L.months[m.getMonth()].substr(0,3).toUpperCase();else if(n==="mon")o=L.months[m.getMonth()].substr(0,3).toLowerCase();else if(n==="MONTH")o=L.months[m.getMonth()].toUpperCase();else if(n==="month")o=L.months[m.getMonth()].toLowerCase();else if(i==="MMMMM")o=L.months[m.getMonth()].substr(0,1);else if(i==="MMMM"||n==="Month")o=L.months[m.getMonth()];else if(i==="MMM"||n=="Mon")o=L.months[m.getMonth()].substr(0,3);else if(i==="MM")o=c.two((this||e).data[1]);else if(i==="M")o=m.getMonth()+1;else if(n==="DAY")o=L.weekdays[m.getDay()].toUpperCase();else if(n==="day")o=L.weekdays[m.getDay()].toLowerCase();else if(i==="DDDD"||n=="Day")o=L.weekdays[m.getDay()];else if(i==="DDD")o=L.weekdays[m.getDay()].substr(0,3);else if(i==="DD")o=c.two((this||e).data[2]);else if(i==="D")o=parseInt((this||e).data[2]);else if(i==="Q")o=Math.floor((m.getMonth()+3)/3);else if(i==="HH24"||i==="HH"){o=(this||e).data[3];o>12&&(this||e).tokens.indexOf("am/pm")!==-1&&(o-=12);o=c.two(o)}else if(i==="HH12")o=(this||e).data[3]>12?c.two((this||e).data[3]-12):c.two((this||e).data[3]);else if(i==="H"){o=(this||e).data[3];if(o>12&&(this||e).tokens.indexOf("am/pm")!==-1){o-=12;o=c.two(o)}}else i==="MI"?o=c.two((this||e).data[4]):i==="SS"?o=c.two((this||e).data[5]):i==="MS"?o=m.getMilliseconds():i==="AM/PM"?o=(this||e).data[3]>=12?"PM":"AM":i==="WD"&&(o=L.weekdays[m.getDay()]);(this||e).value[t]=o===null?(this||e).tokens[t]:o};for(u=0;u<p.tokens.length;u++)g.call(p,u);t=p.value.join("")}else t=""}return t};return A}var E=j();function C(){var t=function(n,i){if(n.calendar)return n.calendar.setOptions(i,true);var o={type:"calendar"};o.options={};o.date=null;o.setOptions=function(e,i){var a={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:true,today:false,time:false,resetButton:true,placeholder:"",months:L.monthsShort,monthsFull:L.months,weekdays:L.weekdays,textDone:r.translate("Done"),textReset:r.translate("Reset"),textUpdate:r.translate("Update"),value:null,fullscreen:false,opened:false,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:true,autoSelect:true};for(var s in a)e&&e.hasOwnProperty(s)?o.options[s]=e[s]:typeof o.options[s]!="undefined"&&i!==true||(o.options[s]=a[s]);o.options.resetButton==false?p.style.display="none":p.style.display="";o.options.readonly?n.setAttribute("readonly","readonly"):n.removeAttribute("readonly");o.options.placeholder?n.setAttribute("placeholder",o.options.placeholder):n.removeAttribute("placeholder");if(c.isNumeric(o.options.value)&&o.options.value>0){o.options.value=t.numToDate(o.options.value);o.options.dataType="numeric"}p.innerHTML=o.options.textReset;f.innerHTML=o.options.textDone;C.innerHTML=o.options.textUpdate;o.options.format&&n.setAttribute("data-mask",o.options.format.toLowerCase());if(!o.options.value&&o.options.today)var l=t.now();else l=o.options.value;if(l){o.options.value=null;o.setValue(l)}return o};o.open=function(e){if(!u.classList.contains("jcalendar-focus")&&!u.classList.contains("jcalendar-inline")){t.current=o;l(o,true);o.getDays();o.options.type=="year-month-picker"&&o.getMonths();if(o.options.time){T.value=o.date[3];k.value=o.date[4]}u.classList.add("jcalendar-focus");if(c.getWindowWidth()<800||o.options.fullscreen){u.classList.add("jcalendar-fullsize");b.slideBottom(v,1)}else{u.classList.remove("jcalendar-fullsize");var i=n.getBoundingClientRect();var a=v.getBoundingClientRect();if(o.options.position){h.style.position="fixed";window.innerHeight<i.bottom+a.height?h.style.top=i.top-(a.height+2)+"px":h.style.top=i.top+i.height+2+"px";h.style.left=i.left+"px"}else{if(window.innerHeight<i.bottom+a.height){var r=-1*(i.height+a.height+2);r+i.top<0&&(r=-1*(i.top+i.height));h.style.top=r+"px"}else h.style.top="2px";if(window.innerWidth<i.left+a.width){r=window.innerWidth-(i.left+a.width+20);h.style.left=r+"px"}else h.style.left="0px"}}typeof o.options.onopen=="function"&&o.options.onopen(n)}};o.close=function(e,i){o.options.autoSelect!==true&&typeof i==="undefined"&&(i=false);if(u.classList.contains("jcalendar-focus")){if(i!==false){var a=u.querySelector(".jcalendar-selected");if(typeof i=="string")var r=i;else if(!a||a.classList.contains("jcalendar-disabled"))r=o.options.value;else r=o.getValue();o.setValue(r)}else{let e=o.options.value||"";o.options.value=null;o.setValue(e)}e||typeof o.options.onclose!="function"||o.options.onclose(n);u.classList.remove("jcalendar-focus");l(o,false);t.current=null}return o.options.value};o.prev=function(){if(o.options.mode=="years"){o.date[0]=o.date[0]-12;o.getYears()}else if(o.options.mode=="months"){o.date[0]=parseInt(o.date[0])-1;o.getMonths()}else{if(o.date[1]<2){o.date[0]=o.date[0]-1;o.date[1]=12}else o.date[1]=o.date[1]-1;o.getDays()}};o.next=function(){if(o.options.mode=="years"){o.date[0]=parseInt(o.date[0])+12;o.getYears()}else if(o.options.mode=="months"){o.date[0]=parseInt(o.date[0])+1;o.getMonths()}else{if(o.date[1]>11){o.date[0]=parseInt(o.date[0])+1;o.date[1]=1}else o.date[1]=parseInt(o.date[1])+1;o.getDays()}};o.setToday=function(){var e=(new Date).toISOString().substr(0,10);o.setValue(e);return e};o.setValue=function(e){e||(e=""+e);var i=e;var a=o.options.value;if(a!=i){if(i){o.setLabel(i,o.options);var s=i.split(" ");s[1]||(s[1]="00:00:00");var l=s[1].split(":");s=s[0].split("-");var d=parseInt(s[0]);var c=parseInt(s[1]);var u=parseInt(s[2]);var p=parseInt(l[0]);var f=parseInt(l[1]);o.date=[d,c,u,p,f,0];e=o.setLabel(i,o.options);var h=t.now(new Date(d,c-1,u),true);if(o.options.validRange){if(!o.options.validRange[0]||h>=o.options.validRange[0])var v=true;else v=false;if(!o.options.validRange[1]||h<=o.options.validRange[1])var m=true;else m=false;if(v&&m){n.classList.remove("jcalendar_warning");n.title=""}else{n.classList.add("jcalendar_warning");n.title=r.translate("Date outside the valid range")}}else{n.classList.remove("jcalendar_warning");n.title=""}}else{o.date=null;var e="";n.classList.remove("jcalendar_warning");n.title=""}o.options.value=i;typeof o.options.onchange=="function"&&o.options.onchange(n,i,a);if(n.value!=e){n.value=e;typeof n.oninput=="function"&&n.oninput({type:"input",target:n,value:n.value})}}if(o.date){o.getDays();o.options.type=="year-month-picker"&&o.getMonths()}};o.getValue=function(){return o.date?o.options.time?c.two(o.date[0])+"-"+c.two(o.date[1])+"-"+c.two(o.date[2])+" "+c.two(o.date[3])+":"+c.two(o.date[4])+":"+c.two(0):c.two(o.date[0])+"-"+c.two(o.date[1])+"-"+c.two(o.date[2])+" "+c.two(0)+":"+c.two(0)+":"+c.two(0):""};o.update=function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=u.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected");e.classList.add("jcalendar-selected");if(e.classList.contains("jcalendar-set-month")){o.date[1]=t;o.date[2]=1}else o.date[2]=e.innerText;if(o.options.time){o.date[3]=T.value;o.date[4]=k.value}else o.close(null,true)}d()};o.reset=function(){o.setValue("");o.date=null;o.close(false,false)};o.getDays=function(){o.options.mode="days";var e=new Date;var n=o.date&&c.isNumeric(o.date[0])?o.date[0]:parseInt(e.getFullYear());var i=o.date&&c.isNumeric(o.date[1])?o.date[1]:parseInt(e.getMonth())+1;var a=o.date&&c.isNumeric(o.date[2])?o.date[2]:parseInt(e.getDate());var r=o.date&&c.isNumeric(o.date[3])?o.date[3]:parseInt(e.getHours());var s=o.date&&c.isNumeric(o.date[4])?o.date[4]:parseInt(e.getMinutes());o.date=[n,i,a,r,s,0];m.innerHTML=n;g.innerHTML=o.options.months[i-1];var l=e.getMonth()==i-1&&e.getFullYear()==n;var u=e.getDate();e=new Date(n,i,0,0,0);var p=e.getDate();e=new Date(n,i-1,0,0,0);var f=e.getDay()+1;var h=o.options.startingDay||0;f-=h;x.innerHTML="";var v=document.createElement("tr");v.setAttribute("align","center");x.appendChild(v);for(var y=0;y<7;y++){var b=document.createElement("td");b.classList.add("jcalendar-weekday");b.innerHTML=o.options.weekdays[h].substr(0,1);v.appendChild(b);h++;h>6&&(h=0)}h=0;var w=0;for(var L=0;L<6;L++){v=document.createElement("tr");v.setAttribute("align","center");v.style.height="34px";for(y=0;y<7;y++){b=document.createElement("td");b.classList.add("jcalendar-set-day");if(h>=f&&h<f+p){w++;b.innerHTML=w;w==a&&b.classList.add("jcalendar-selected");l&&u==w&&(b.style.fontWeight="bold");var E=t.now(new Date(n,i-1,w),true);if(o.options.validRange){if(!o.options.validRange[0]||E>=o.options.validRange[0])var C=true;else C=false;if(!o.options.validRange[1]||E<=o.options.validRange[1])var T=true;else T=false;C&&T||b.classList.add("jcalendar-disabled")}}v.appendChild(b);h++}x.appendChild(v)}o.options.time?j.style.display="":j.style.display="none";d()};o.getMonths=function(){o.options.mode="months";var e=o.options.months;o.options.value;var t=new Date;var n=parseInt(t.getFullYear());var i=parseInt(t.getMonth())+1;var a=o.date&&c.isNumeric(o.date[0])?o.date[0]:n;var r=o.date&&c.isNumeric(o.date[1])?o.date[1]:i;m.innerHTML=o.date[0];g.innerHTML=e[r-1];var s=document.createElement("table");s.setAttribute("width","100%");var l=null;for(var u=0;u<12;u++){if(!(u%4)){l=document.createElement("tr");l.setAttribute("align","center");s.appendChild(l)}var p=document.createElement("td");p.classList.add("jcalendar-set-month");p.setAttribute("data-value",u+1);p.innerText=e[u];if(o.options.validRange){var f=a+"-"+c.two(u+1);if(!o.options.validRange[0]||f>=o.options.validRange[0].substr(0,7))var h=true;else h=false;if(!o.options.validRange[1]||f<=o.options.validRange[1].substr(0,7))var v=true;else v=false;h&&v||p.classList.add("jcalendar-disabled")}u+1==r&&p.classList.add("jcalendar-selected");n==a&&u+1==i&&(p.style.fontWeight="bold");l.appendChild(p)}x.innerHTML='<tr><td colspan="7"></td></tr>';x.children[0].children[0].appendChild(s);d()};o.getYears=function(){o.options.mode="years";var e=new Date;var t=e.getFullYear();var n=o.date&&c.isNumeric(o.date[0])?o.date[0]:parseInt(e.getFullYear());var i=[];for(var a=0;a<25;a++)i[a]=parseInt(o.date[0])+(a-12);var r=document.createElement("table");r.setAttribute("width","100%");for(a=0;a<25;a++){if(!(a%5)){var s=document.createElement("tr");s.setAttribute("align","center");r.appendChild(s)}var l=document.createElement("td");l.classList.add("jcalendar-set-year");l.innerText=i[a];n==i[a]&&l.classList.add("jcalendar-selected");t==i[a]&&(l.style.fontWeight="bold");s.appendChild(l)}x.innerHTML='<tr><td colspan="7"></td></tr>';x.firstChild.firstChild.appendChild(r);d()};o.setLabel=function(e,n){return t.getDateString(e,n)};o.fromFormatted=function(e,n){return t.extractDateFromString(e,n)};var a=function(e){var t=c.findElement(e.target,"jcalendar-container");if(t){var n=e.target.className;if(n=="jcalendar-prev")o.prev();else if(n=="jcalendar-next")o.next();else if(n=="jcalendar-month")o.getMonths();else if(n=="jcalendar-year")o.getYears();else if(n=="jcalendar-set-year"){o.date[0]=e.target.innerText;o.options.type=="year-month-picker"?o.getMonths():o.getDays()}else if(e.target.classList.contains("jcalendar-set-month")){var i=parseInt(e.target.getAttribute("data-value"));if(o.options.type=="year-month-picker")o.update(e.target,i);else{o.date[1]=i;o.getDays()}}else n=="jcalendar-confirm"||n=="jcalendar-update"||n=="jcalendar-close"?o.close(null,true):n=="jcalendar-backdrop"?o.close(false,false):n=="jcalendar-reset"?o.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&o.update(e.target)}else o.close(false,false)};var s=function(e){if(e.target.value&&e.target.value.length>3){var n=t.extractDateFromString(e.target.value,o.options.format);n&&o.setValue(n)}};var d=function(){var e=u.querySelector(".jcalendar-selected");if(e&&e.classList.contains("jcalendar-disabled")){C.setAttribute("disabled","disabled");T.setAttribute("disabled","disabled");k.setAttribute("disabled","disabled")}else{C.removeAttribute("disabled");T.removeAttribute("disabled");k.removeAttribute("disabled")}typeof o.options.onupdate=="function"&&o.options.onupdate(n,o.getValue())};var u=null;var p=null;var f=null;var h=null;var v=null;var m=null;var g=null;var y=null;var x=null;var w=null;var j=null;var E=null;var C=null;var T=null;var k=null;var A=function(){n.tagName=="INPUT"&&n.value&&(i.value=n.value);p=document.createElement("div");p.className="jcalendar-reset";f=document.createElement("div");f.className="jcalendar-confirm";w=document.createElement("div");w.className="jcalendar-controls";w.style.borderBottom="1px solid #ddd";w.appendChild(p);w.appendChild(f);h=document.createElement("div");h.className="jcalendar-container";v=document.createElement("div");v.className="jcalendar-content";h.appendChild(v);if(n.tagName=="DIV"){u=n;u.classList.add("jcalendar-inline")}else{v.appendChild(w);u=document.createElement("div");u.className="jcalendar"}u.classList.add("jcalendar-container");u.appendChild(h);var r=document.createElement("div");r.className="jcalendar-table";v.appendChild(r);var l=document.createElement("td");l.setAttribute("colspan","2");l.className="jcalendar-prev";m=document.createElement("span");m.className="jcalendar-year";g=document.createElement("span");g.className="jcalendar-month";var d=document.createElement("td");d.className="jcalendar-header";d.setAttribute("colspan","3");d.appendChild(g);d.appendChild(m);var L=document.createElement("td");L.setAttribute("colspan","2");L.className="jcalendar-next";var A=document.createElement("thead");var O=document.createElement("tr");O.appendChild(l);O.appendChild(d);O.appendChild(L);A.appendChild(O);y=document.createElement("table");x=document.createElement("tbody");y.setAttribute("cellpadding","0");y.setAttribute("cellspacing","0");y.appendChild(A);y.appendChild(x);r.appendChild(y);T=document.createElement("select");T.className="jcalendar-select";T.onchange=function(){o.date[3]=(this||e).value;typeof o.options.onupdate=="function"&&o.options.onupdate(n,o.getValue())};for(var N=0;N<24;N++){var M=document.createElement("option");M.value=N;M.innerHTML=c.two(N);T.appendChild(M)}k=document.createElement("select");k.className="jcalendar-select";k.onchange=function(){o.date[4]=(this||e).value;typeof o.options.onupdate=="function"&&o.options.onupdate(n,o.getValue())};for(N=0;N<60;N++){M=document.createElement("option");M.value=N;M.innerHTML=c.two(N);k.appendChild(M)}var D=document.createElement("div");D.className="jcalendar-controls";j=document.createElement("div");j.className="jcalendar-time";j.style.maxWidth="140px";j.appendChild(T);j.appendChild(k);C=document.createElement("button");C.setAttribute("type","button");C.className="jcalendar-update";E=document.createElement("div");E.style.flexGrow="10";E.appendChild(C);D.appendChild(j);n.tagName=="INPUT"&&D.appendChild(E);v.appendChild(D);var I=document.createElement("div");I.className="jcalendar-backdrop";u.appendChild(I);n.addEventListener("keyup",s);u.addEventListener("swipeleft",(function(e){b.slideLeft(y,0,(function(){o.next();b.slideRight(y,1)}));e.preventDefault();e.stopPropagation()}));u.addEventListener("swiperight",(function(e){b.slideRight(y,0,(function(){o.prev();b.slideLeft(y,1)}));e.preventDefault();e.stopPropagation()}));if("ontouchend"in document.documentElement===true){u.addEventListener("touchend",a);n.addEventListener("touchend",o.open)}else{u.addEventListener("mouseup",a);n.addEventListener("mouseup",o.open)}if(!t.hasEvents){t.hasEvents=true;document.addEventListener("keydown",t.keydown)}o.setOptions(i);if(n.tagName=="INPUT"){n.parentNode.insertBefore(u,n.nextSibling);n.setAttribute("autocomplete","off");n.classList.add("jcalendar-input");n.value=o.setLabel(o.getValue(),o.options)}else{o.getDays();if(o.options.time){T.value=o.date[3];k.value=o.date[4]}}o.options.opened==true&&o.open();o.options.controls==false&&h.classList.add("jcalendar-hide-controls");n.change=o.setValue;n.val=function(e){if(e===void 0)return o.getValue();o.setValue(e)};n.calendar=u.calendar=o};A();return o};t.keydown=function(e){var n=null;(n=t.current)&&(e.which==13?n.close(false,true):e.which==27&&n.close(false,false))};t.prettify=function(e,t){if(!t)t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};e.indexOf("GMT")===-1&&e.indexOf("Z")===-1&&(e+=" GMT");var n=new Date;var i=new Date(e);var o=parseInt((n-i)/1e3/60);String.prototype.format=function(e){return this.replace("{0}",e)};if(o==0)var a=t.justNow;else if(o<90)a=t.xMinutesAgo.format(o);else if(o<1440)a=t.xHoursAgo.format(Math.round(o/60));else if(o<20160)a=t.xDaysAgo.format(Math.round(o/1440));else if(o<43200)a=t.xWeeksAgo.format(Math.round(o/10080));else if(o<1036800)a=t.xMonthsAgo.format(Math.round(o/43200));else a=t.xYearsAgo.format(Math.round(o/525600));return a};t.prettifyAll=function(){var e=document.querySelectorAll(".prettydate");for(var n=0;n<e.length;n++)if(e[n].getAttribute("data-date"))e[n].innerHTML=t.prettify(e[n].getAttribute("data-date"));else if(e[n].innerHTML){e[n].setAttribute("title",e[n].innerHTML);e[n].setAttribute("data-date",e[n].innerHTML);e[n].innerHTML=t.prettify(e[n].innerHTML)}};t.now=L.now;t.toArray=L.toArray;t.dateToNum=L.dateToNum;t.numToDate=L.numToDate;t.weekdays=L.weekdays;t.months=L.months;t.weekdaysShort=L.weekdaysShort;t.monthsShort=L.monthsShort;t.extractDateFromString=E.extractDateFromString;t.getDateString=E.getDateString;return t}var T=C();function k(){var e={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]};var t=function(t){return e[t]?e[t]:e.material};t.get=function(t){return e[t]?e[t]:e};t.set=function(t,n){e[t]=n};return t}var A=k();function O(t,n){var i={};i.options={};var o={data:[],position:null,allowCreate:false,allowChangePosition:false,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:false,hideHeaders:false,padding:null,palette:null,maxWidth:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];t.classList.add("jtabs");var r=null;var s=null;var l=null;const d=function(e){i.options.animation&&setTimeout((function(){let t=i.headers.children[e].getBoundingClientRect();if(i.options.palette==="modern"){l.style.width=t.width-4+"px";l.style.left=i.headers.children[e].offsetLeft+2+"px"}else{l.style.width=t.width+"px";l.style.left=i.headers.children[e].offsetLeft+"px"}i.options.position==="bottom"?l.style.top="0px":l.style.bottom="0px"}),50)};var u=function(e){typeof i.headers.scrollTo=="function"?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e;e<=1?r.classList.add("disabled"):r.classList.remove("disabled");e>=i.headers.scrollWidth-i.headers.offsetWidth?s.classList.add("disabled"):s.classList.remove("disabled");if(i.headers.scrollWidth<=i.headers.offsetWidth){r.style.display="none";s.style.display="none"}else{r.style.display="";s.style.display=""}};i.setBorder=d;i.open=function(e){Array.from(i.content.children);if(i.content.children[e]){var n=null;for(var o=0;o<i.headers.children.length;o++){i.headers.children[o].classList.contains("jtabs-selected")&&(n=o);i.headers.children[o].classList.remove("jtabs-selected");i.headers.children[o].removeAttribute("aria-selected");i.content.children[o]&&i.content.children[o].classList.remove("jtabs-selected")}i.headers.children[e].classList.add("jtabs-selected");i.headers.children[e].setAttribute("aria-selected","true");i.content.children[e]&&i.content.children[e].classList.add("jtabs-selected");n!=e&&typeof i.options.onchange=="function"&&i.content.children[e]&&i.options.onchange(t,i,e,i.headers.children[e],i.content.children[e]);if(i.options.hideHeaders==true&&i.headers.children.length<3&&i.options.allowCreate==false)i.headers.parentNode.style.display="none";else{i.headers.parentNode.style.display="";var a=i.headers.children[e].offsetLeft;var r=a+i.headers.children[e].offsetWidth;var s=i.headers.scrollLeft;var l=s+i.headers.offsetWidth;s<=a&&l>=r||u(a-1);d(e)}}};i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);t>=0&&i.open(t);return t};i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText));i.headers.children[e].innerText=t;d(i.getActive())};i.create=function(e,n){if(typeof i.options.onbeforecreate=="function"){var o=i.options.onbeforecreate(t,e);if(o===false)return false;e=o}var a=i.appendElement(e);typeof i.options.oncreate=="function"&&i.options.oncreate(t,a);d(i.getActive());return a};i.remove=function(e){return i.deleteElement(e)};i.nextNumber=function(){var e=0;for(var t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}e?e++:e=1;return e};i.deleteElement=function(e){let n=i.getActive();if(!i.headers.children[e])return false;i.headers.removeChild(i.headers.children[e]);i.content.removeChild(i.content.children[e]);if(n===e)i.open(0);else{let e=i.getActive()||0;d(e)}typeof i.options.ondelete=="function"&&i.options.ondelete(t,e)};i.appendElement=function(e,t,n,o){if(!e)e=prompt("Title?","");if(e){let s=c.guid();let l=c.guid();var a=document.createElement("div");a.setAttribute("id",l);a.setAttribute("role","tabpanel");a.setAttribute("aria-labelledby",s);var r=document.createElement("div");r.setAttribute("id",s);r.setAttribute("role","tab");r.setAttribute("aria-controls",l);r.innerHTML=e;r.content=a;if(typeof o==="undefined"){i.content.appendChild(a);i.headers.insertBefore(r,i.headers.lastChild)}else{let e=i.content.children[o];e?i.content.insertBefore(a,e):i.content.appendChild(a);e=i.headers.children[o]||i.headers.lastChild;i.headers.insertBefore(r,e)}i.options.allowChangePosition&&r.setAttribute("draggable","true");n!==false&&i.selectIndex(r);typeof t=="function"&&t(a,r);return a}};i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return false};i.updateContent=function(e,t){if(typeof t!=="string")var n=t;else{n=document.createElement("div");n.innerHTML=t}i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected");i.content.replaceChild(t,i.content.children[e]);d()};i.updatePosition=function(e,t,n,o){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling);if(o!==false)i.open(t);else{const e=i.getActive();t<e&&i.setBorder(e)}n||typeof i.options.onchangeposition!="function"||i.options.onchangeposition(i.headers,e,t)};i.move=function(e,t,n,o){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling);i.updatePosition(e,t,n,o)};i.setBorder=d;i.init=function(){t.innerHTML="";i.headers=document.createElement("div");i.content=document.createElement("div");i.headers.classList.add("jtabs-headers");i.headers.setAttribute("role","tablist");i.content.classList.add("jtabs-content");i.content.setAttribute("role","region");i.content.setAttribute("aria-label","Tab Panels");i.options.palette?t.classList.add("jtabs-modern"):t.classList.remove("jtabs-modern");i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var e=document.createElement("div");e.className="jtabs-headers-container";e.appendChild(i.headers);i.options.maxWidth&&(e.style.maxWidth=parseInt(i.options.maxWidth)+"px");var n=document.createElement("div");n.className="jtabs-controls";n.setAttribute("draggable","false");e.appendChild(n);if(i.options.position=="bottom"){t.appendChild(i.content);t.appendChild(e)}else{t.appendChild(e);t.appendChild(i.content)}if(i.options.allowCreate==true){var o=document.createElement("div");o.className="jtabs-add";o.onclick=function(){i.create()};n.appendChild(o)}r=document.createElement("div");r.className="jtabs-prev";r.onclick=function(){u(i.headers.scrollLeft-i.headers.offsetWidth)};n.appendChild(r);s=document.createElement("div");s.className="jtabs-next";s.onclick=function(){u(i.headers.scrollLeft+i.headers.offsetWidth)};n.appendChild(s);for(var a=0;a<i.options.data.length;a++){if(i.options.data[a].titleElement)var d=i.options.data[a].titleElement;else d=document.createElement("div");if(i.options.data[a].icon){var c=document.createElement("div");var p=document.createElement("i");p.classList.add("material-icons");p.innerHTML=i.options.data[a].icon;c.appendChild(p);d.appendChild(c)}if(i.options.data[a].title){var h=document.createTextNode(i.options.data[a].title);d.appendChild(h)}i.options.data[a].width&&(d.style.width=i.options.data[a].width);if(i.options.data[a].contentElement)var v=i.options.data[a].contentElement;else{v=document.createElement("div");v.innerHTML=i.options.data[a].content}i.headers.appendChild(d);i.content.appendChild(v)}l=document.createElement("div");l.className="jtabs-border";i.headers.appendChild(l);i.options.animation&&t.classList.add("jtabs-animation");i.headers.addEventListener("click",(function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var n=e.target;else if(e.target.tagName=="I")n=e.target.parentNode.parentNode;else n=e.target.parentNode;var o=i.selectIndex(n);typeof i.options.onclick=="function"&&i.options.onclick(t,i,o,i.headers.children[o],i.content.children[o])}));i.headers.addEventListener("contextmenu",(function(e){i.selectIndex(e.target)}));i.headers.children.length&&i.open(0);u(0);i.options.allowChangePosition==true&&f(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}});typeof i.options.onload=="function"&&i.options.onload(t,i)};if(t.children[0]&&t.children[0].children.length)for(var p=0;p<t.children[0].children.length;p++){var h=i.options.data&&i.options.data[p]?i.options.data[p]:{};if(t.children[1]&&t.children[1].children[p]){h.titleElement=t.children[0].children[p];h.contentElement=t.children[1].children[p]}else h.contentElement=t.children[0].children[p];i.options.data[p]=h}var v=false;if(i.options.data)for(p=0;p<i.options.data.length;p++)if(i.options.data[p].url){m({url:i.options.data[p].url,type:"GET",dataType:"text/html",index:p,success:function(t){i.options.data[(this||e).index].content=t},complete:function(){i.init()}});v=true}v||i.init();t.tabs=i;return i}function N(e,t){if(e.color)return e.color.setOptions(t,true);var n={type:"color"};n.options={};var i=null;var o=null;var a=null;var r=null;var s=null;var d=null;var u=null;n.setOptions=function(t,i){
/**
           * @typedef {Object} defaults
           * @property {(string|Array)} value - Initial value of the compontent
           * @property {string} placeholder - The default instruction text on the element
           * @property {requestCallback} onchange - Method to be execute after any changes on the element
           * @property {requestCallback} onclose - Method to be execute when the element is closed
           * @property {string} doneLabel - Label for button done
           * @property {string} resetLabel - Label for button reset
           * @property {string} resetValue - Value for button reset
           * @property {Bool} showResetButton - Active or note for button reset - default false
           */
var o={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:true,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:false,opened:false};t||(t={});t&&!t.palette&&(t.palette=A());for(var a in o)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:typeof n.options[a]!="undefined"&&i!==true||(n.options[a]=o[a]);r&&(r.innerHTML=n.options.resetLabel);s&&(s.innerHTML=n.options.doneLabel);n.options.palette&&u&&u.updateContent(0,m());if(typeof n.options.value==="string"){e.value=n.options.value;if(e.tagName==="INPUT"){e.style.color=e.value;e.style.backgroundColor=e.value}}n.options.placeholder?e.setAttribute("placeholder",n.options.placeholder):e.getAttribute("placeholder")&&e.removeAttribute("placeholder");return n};n.select=function(e){var t=i.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected");n.values[e]&&n.values[e].classList.add("jcolor-selected");n.options.value=e};n.open=function(){if(!i.classList.contains("jcolor-focus")){l(n,true);i.classList.add("jcolor-focus");n.options.value&&n.select(n.options.value);a.style.marginTop="";a.style.marginLeft="";var t=a.getBoundingClientRect();var r=c.getWindowWidth();var s=c.getWindowHeight();if(r<800||n.options.fullscreen==true){a.classList.add("jcolor-fullscreen");b.slideBottom(a,1);o.style.display="block"}else{if(a.classList.contains("jcolor-fullscreen")){a.classList.remove("jcolor-fullscreen");o.style.display=""}n.options.position?a.style.position="fixed":a.style.position="";t.left+t.width>r&&(a.style.marginLeft=-1*(t.left+t.width-(r-20))+"px");t.top+t.height>s&&(a.style.marginTop=-1*(t.top+t.height-(s-20))+"px")}typeof n.options.onopen=="function"&&n.options.onopen(e,n);u.setBorder(u.getActive());if(n.options.value){var d=v(n.options.value);E.forEach((function(e,t){e.value=d[t];e.dispatchEvent(new Event("input"))}))}}};n.close=function(t){if(i.classList.contains("jcolor-focus")){i.classList.remove("jcolor-focus");o.style.display="";t||typeof n.options.onclose!="function"||n.options.onclose(e,n);l(n,false)}return n.options.value};n.setValue=function(t){t||(t="");if(t!=n.options.value){n.options.value=t;j=t;n.select(t);typeof n.options.onchange=="function"&&n.options.onchange(e,t,n);if(e.value!=n.options.value){e.value=n.options.value;if(e.tagName==="INPUT"){e.style.color=e.value;e.style.backgroundColor=e.value}typeof e.oninput=="function"&&e.oninput({type:"input",target:e,value:e.value})}n.options.closeOnChange==true&&n.close()}};n.getValue=function(){return n.options.value};var p=function(e){var t=e.toString(16);return t.length===1?"0"+t:t};var f=function(e,t,n){return"#"+p(e)+p(t)+p(n)};var h=function(e){return parseInt("0x"+e)};var v=function(e){return[h(e.substr(1,2)),h(e.substr(3,2)),h(e.substr(5,2))]};var m=function(){var e=document.createElement("div");e.className="jcolor-grid";n.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7");t.setAttribute("cellspacing","0");for(var i=0;i<n.options.palette.length;i++){var o=document.createElement("tr");for(var a=0;a<n.options.palette[i].length;a++){var r=document.createElement("td");var s=n.options.palette[i][a];s.length<7&&s.substr(0,1)!=="#"&&(s="#"+s);r.style.backgroundColor=s;r.setAttribute("data-value",s);r.innerHTML="";o.appendChild(r);n.options.value==s&&r.classList.add("jcolor-selected");n.values[s]=r}t.appendChild(o)}e.appendChild(t);return e};var g=document.createElement("canvas");g.width=200;g.height=160;var y=g.getContext("2d");var x=function(){var e=d.firstChild.getBoundingClientRect();g.width=e.width-14;w()};var w=function(){var e=y.createLinearGradient(0,0,g.width,0);e.addColorStop(0,"rgb(255,0,0)");e.addColorStop(.15,"rgb(255,0,255)");e.addColorStop(.33,"rgb(0,0,255)");e.addColorStop(.49,"rgb(0,255,255)");e.addColorStop(.67,"rgb(0,255,0)");e.addColorStop(.84,"rgb(255,255,0)");e.addColorStop(1,"rgb(255,0,0)");y.fillStyle=e;y.fillRect(0,0,g.width,g.height);e=y.createLinearGradient(0,0,0,g.height);e.addColorStop(0,"rgba(255,255,255,1)");e.addColorStop(.5,"rgba(255,255,255,0)");e.addColorStop(.5,"rgba(0,0,0,0)");e.addColorStop(1,"rgba(0,0,0,1)");y.fillStyle=e;y.fillRect(0,0,g.width,g.height)};var L=function(){var e=document.createElement("div");e.className="jcolor-hsl";var t=document.createElement("div");t.className="jcolor-point";var n=document.createElement("div");n.appendChild(g);n.appendChild(t);e.appendChild(n);var i=function(n,i,o){if(n===1){var a=e.getBoundingClientRect();var r=i-a.left;var s=o-a.top;r<0&&(r=0);s<0&&(s=0);r>a.width&&(r=a.width);s>a.height&&(s=a.height);t.style.left=r+"px";t.style.top=s+"px";var l=y.getImageData(r,s,1,1).data;j=f(l[0],l[1],l[2])}};e.addEventListener("mousedown",(function(e){i(e.buttons,e.clientX,e.clientY)}));e.addEventListener("mousemove",(function(e){i(e.buttons,e.clientX,e.clientY)}));e.addEventListener("touchmove",(function(e){i(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)}));return e};var j="";var E=[];var C=function(){if(j!=="")for(var e=0;e<E.length;e++){var t=v(j);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", ");n+="), rgb(";t[e]=255;n+=t.join(", ");n+="))";E[e].style.backgroundImage=n}};var T=function(){var e=document.createElement("div");e.className="jcolor-sliders";var t=document.createElement("div");var n=function(e){var n=document.createElement("div");n.className="jcolor-sliders-input-container";var i=document.createElement("label");i.innerText=e;var o=document.createElement("div");o.className="jcolor-sliders-input-subcontainer";var a=document.createElement("input");a.type="range";a.min=0;a.max=255;a.value=0;a.setAttribute("aria-label","Color value");a.setAttribute("aria-valuemin","0");a.setAttribute("aria-valuemax","255");a.setAttribute("aria-valuenow","0");n.appendChild(i);o.appendChild(a);var r=document.createElement("div");r.innerText=a.value;a.addEventListener("input",(function(){r.innerText=a.value}));o.appendChild(r);n.appendChild(o);t.appendChild(n);return a};E=[n("Red"),n("Green"),n("Blue")];e.appendChild(t);var i=document.createElement("div");i.className="jcolor-sliders-final-color";var o=document.createElement("div");o.style.visibility="hidden";o.innerText="a";i.appendChild(o);var a=function(){var e=f(parseInt(E[0].value),parseInt(E[1].value),parseInt(E[2].value));o.innerText=e;o.style.color=e;o.style.removeProperty("visibility");j=e};E.forEach((function(e){e.addEventListener("input",(function(){a();C()}))}));e.appendChild(i);return e};var k=function(){n.setOptions(t);if(e.tagName=="INPUT"){e.classList.add("jcolor-input");e.readOnly=true}i=document.createElement("div");i.className="jcolor";o=document.createElement("div");o.className="jcolor-backdrop";i.appendChild(o);a=document.createElement("div");a.className="jcolor-content";var l=document.createElement("div");l.className="jcolor-controls";a.appendChild(l);r=document.createElement("div");r.className="jcolor-reset";r.innerHTML=n.options.resetLabel;l.appendChild(r);s=document.createElement("div");s.className="jcolor-close";s.innerHTML=n.options.doneLabel;l.appendChild(s);d=document.createElement("div");a.appendChild(d);u=O(d,{animation:true,data:[{title:"Grid",contentElement:m()},{title:"Spectrum",contentElement:L()},{title:"Sliders",contentElement:T()}],onchange:function(e,t,i){if(i===1)x();else{var o=j!==""?j:n.getValue();if(i===2&&o){var a=v(o);E.forEach((function(e,t){e.value=a[t];e.dispatchEvent(new Event("input"))}))}}},palette:"modern"});i.appendChild(a);e.tagName=="INPUT"?e.parentNode.insertBefore(i,e.nextSibling):e.appendChild(i);i.addEventListener("click",(function(e){if(e.target.tagName=="TD"){var t=e.target.getAttribute("data-value");t&&n.setValue(t)}else if(e.target.classList.contains("jcolor-reset")){n.setValue("");n.close()}else if(e.target.classList.contains("jcolor-close")){u.getActive()>0&&n.setValue(j);n.close()}else e.target.classList.contains("jcolor-backdrop")?n.close():n.open()}));e.addEventListener("mouseup",(function(e){n.open()}));window.addEventListener("resize",(function(){i.classList.contains("jcolor-focus")&&u.getActive()==1&&x()}));n.options.opened==true&&n.open();e.change=n.setValue;e.val=function(e){if(e===void 0)return n.getValue();n.setValue(e)};e.color=n;i.color=n};n.toHex=function(e){var t=function(e){return("0"+parseInt(e).toString(16)).slice(-2)};if(e){if(/^#[0-9A-F]{6}$/i.test(e))return e;e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return e&&e.length?"#"+t(e[1])+t(e[2])+t(e[3]):""}};k();return n}function M(){var t=function(n,i){var o={type:"contextmenu"};o.options={};var a={items:null,onclick:null};for(var s in a)i&&i.hasOwnProperty(s)?o.options[s]=i[s]:o.options[s]=a[s];n.classList.add("jcontextmenu");o.open=function(e,i){if(i){o.options.items=i;o.create(i)}t.current&&t.current.close();l(o,true);n.classList.add("jcontextmenu-focus");t.current=o;if(o.options.items&&o.options.items.length>0||n.children.length){if(e.target)if(e.changedTouches&&e.changedTouches[0]){a=e.changedTouches[0].clientX;r=e.changedTouches[0].clientY}else{var a=e.clientX;var r=e.clientY}else{a=e.x;r=e.y}var s=n.getBoundingClientRect();if(window.innerHeight<r+s.height){var d=r-s.height;d<0&&(d=0);n.style.top=d+"px"}else n.style.top=r+"px";window.innerWidth<a+s.width?a-s.width>0?n.style.left=a-s.width+"px":n.style.left="10px":n.style.left=a+"px"}};o.isOpened=function(){return!!n.classList.contains("jcontextmenu-focus")};o.close=function(){n.classList.contains("jcontextmenu-focus")&&n.classList.remove("jcontextmenu-focus");l(o,false)};
/**
           * Create items based on the declared objectd
           * @param {object} items - List of object
           */o.create=function(e){n.innerHTML="";var t=d();n.appendChild(t);for(var i=0;i<e.length;i++){var o=c(e[i]);n.appendChild(o)}};
/**
           * createHeader for context menu
           * @private
           * @returns {HTMLElement}
           */function d(){var e=document.createElement("div");e.classList.add("header");e.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation()}));var t=document.createElement("a");t.classList.add("title");t.innerHTML=r.translate("Menu");e.appendChild(t);var n=document.createElement("a");n.classList.add("close");n.innerHTML=r.translate("close");n.addEventListener("click",(function(e){o.close()}));e.appendChild(n);return e}
/**
           * Private function for create a new Item element
           * @param {type} item
           * @returns {jsuitesL#15.jSuites.contextmenu.createItemElement.itemContainer}
           */function c(t){if(!t.type||t.type!="line"&&t.type!="divisor"){d=document.createElement("div");var n=document.createElement("a");n.innerHTML=t.title;t.tooltip&&d.setAttribute("title",t.tooltip);t.icon&&d.setAttribute("data-icon",t.icon);t.id&&(d.id=t.id);if(t.disabled)d.className="jcontextmenu-disabled";else if(t.onclick){d.method=t.onclick;d.addEventListener("mousedown",(function(e){e.preventDefault()}));d.addEventListener("mouseup",(function(t){this.method(this||e,t)}))}d.appendChild(n);if(t.submenu){var i=document.createElement("span");i.innerHTML="&#9658;";d.appendChild(i);d.classList.add("jcontexthassubmenu");var o=document.createElement("div");o.classList.add("jcontextmenu");o.setAttribute("tabindex","900");var a=t.submenu;for(var r=0;r<a.length;r++){var s=c(a[r]);o.appendChild(s)}d.appendChild(o)}else if(t.shortcut){var l=document.createElement("span");l.innerHTML=t.shortcut;d.appendChild(l)}}else var d=document.createElement("hr");return d}typeof o.options.onclick=="function"&&n.addEventListener("click",(function(e){o.options.onclick(o,e)}));o.options.items&&o.create(o.options.items);window.addEventListener("mousewheel",(function(){o.close()}));n.contextmenu=o;return o};return t}var D=M();function I(){var e=function(t,n){if(t.dropdown)return t.dropdown.setOptions(n,true);var i={type:"dropdown"};i.options={};var o=function(e,n){if(e&&e.length){i.options.sortResults!==false&&(typeof i.options.sortResults=="function"?e.sort(i.options.sortResults):e.sort(a));i.setData(e)}typeof i.options.onload=="function"&&i.options.onload(t,i,e,n);n&&d(n);n!==void 0&&n!==null||(i.options.value="");t.value=i.options.value;i.options.opened==true&&i.open()};var a=function(e,t){var n,i;typeof e=="string"?n=e:e.text?n=e.text:e.name&&(n=e.name);typeof t=="string"?i=t:t.text?i=t.text:t.name&&(i=t.name);if(typeof n=="string"||typeof i=="string"){typeof n!="string"&&(n=""+n);typeof i!="string"&&(i=""+i);return n.localeCompare(i)}return n-i};var s=function(){i.value={};for(var e=0;e<i.items.length;e++)if(i.items[e].selected==true){i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected");i.items[e].selected=null}i.options.value="";t.value=""};var d=function(e){s();if(e!==null)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else typeof i.value[""]!=="undefined"&&(i.value[""]="");for(t=0;t<i.items.length;t++)if(typeof i.value[u(t)]!=="undefined"){i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected");i.items[t].selected=true;i.value[u(t)]=p(t)}i.options.value=Object.keys(i.value).join(";");i.header.value=i.getText()};var u=function(e,t){if(i.options.format)n="id";else var n="value";return i.items[e]?t!==void 0?i.items[e].data[n]=t:i.items[e].data[n]:""};var p=function(e,t){if(i.options.format)n="name";else var n="text";return i.items[e]?t!==void 0?i.items[e].data[n]=t:i.items[e].data[n]:""};var f=function(){return Object.keys(i.value)};var v=function(){var e=[];var t=Object.keys(i.value);for(var n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(e,n){e||(e={});var a={url:null,data:[],format:0,multiple:false,autocomplete:false,remoteSearch:false,lazyLoading:false,type:null,width:null,maxWidth:null,opened:false,value:null,placeholder:"",newOptions:false,position:false,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,onsearch:null,onbeforesearch:null,sortResults:false,autofocus:false,prompt:null,allowEmpty:true};for(var r in a)e&&e.hasOwnProperty(r)?i.options[r]=e[r]:typeof i.options[r]!="undefined"&&n!==true||(i.options[r]=a[r]);i.options.remoteSearch!=true&&i.options.type!=="searchbar"||(i.options.autocomplete=true);i.options.newOptions==true?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add");i.options.autocomplete==true?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly");i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder");t.classList.remove("jdropdown-searchbar");t.classList.remove("jdropdown-picker");t.classList.remove("jdropdown-list");if(i.options.type=="searchbar")t.classList.add("jdropdown-searchbar");else if(i.options.type=="list")t.classList.add("jdropdown-list");else if(i.options.type=="picker")t.classList.add("jdropdown-picker");else if(c.getWindowWidth()<800)if(i.options.autocomplete){t.classList.add("jdropdown-searchbar");i.options.type="searchbar"}else{t.classList.add("jdropdown-picker");i.options.type="picker"}else{if(i.options.width){t.style.width=i.options.width;t.style.minWidth=i.options.width}else{t.style.removeProperty("width");t.style.removeProperty("min-width")}t.classList.add("jdropdown-default");i.options.type="default"}i.options.type=="searchbar"?g.appendChild(w):y.insertBefore(w,y.firstChild);i.options.url&&!e.data?m({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&o(e,i.options.value)}}):o(i.options.data,i.options.value);return i};var g=null;var y=null;var x=null;var w=null;var L=null;var j=null;var E=null;var C=function(){n||(n={});if(t.tagName=="SELECT"){var o=e.extractFromDom(t,n);t=o.el;n=o.options}!n.placeholder&&t.getAttribute("placeholder")&&(n.placeholder=t.getAttribute("placeholder"));i.value={};i.items=[];i.groups=[];i.search="";i.results=null;t.classList.add("jdropdown");g=document.createElement("div");g.className="jdropdown-container-header";i.header=document.createElement("input");i.header.className="jdropdown-header jss_object";i.header.type="text";i.header.setAttribute("autocomplete","off");i.header.onfocus=function(){typeof i.options.onfocus=="function"&&i.options.onfocus(t)};i.header.onblur=function(){typeof i.options.onblur=="function"&&i.options.onblur(t)};i.header.onkeyup=function(e){if(i.options.autocomplete!=true||E)i.options.autocomplete||i.next(e.key);else{i.search!=i.header.value.trim()&&(E=setTimeout((function(){i.find(i.header.value.trim());E=null}),400));t.classList.contains("jdropdown-focus")||i.open()}};if(!e.hasEvents){e.hasEvents=true;document.addEventListener("keydown",e.keydown)}y=document.createElement("div");y.className="jdropdown-container";x=document.createElement("div");x.className="jdropdown-content";w=document.createElement("div");w.className="jdropdown-close";w.textContent="Done";L=document.createElement("div");L.className="jdropdown-reset";L.textContent="x";L.onclick=function(){i.reset();i.close()};j=document.createElement("div");j.className="jdropdown-backdrop";g.appendChild(i.header);y.appendChild(x);t.appendChild(g);t.appendChild(y);t.appendChild(j);i.setOptions(n);"ontouchsend"in document.documentElement===true?t.addEventListener("touchsend",e.mouseup):t.addEventListener("mouseup",e.mouseup);i.options.lazyLoading==true&&h(x,{loadUp:i.loadUp,loadDown:i.loadDown});x.onwheel=function(e){e.stopPropagation()};t.change=i.setValue;t.val=function(e){if(e===void 0)return i.getValue(!!i.options.multiple);i.setValue(e)};t.dropdown=i};i.getUrl=function(){return i.options.url};
/**
           * Set the new data from a remote source
           * @param {string} url - url from the remote source
           * @param {function} callback - callback when the data is loaded
           */i.setUrl=function(e,t){i.options.url=e;m({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e);typeof t=="function"&&t(i)}})};i.setId=function(e,t){if(i.options.format)n="id";else var n="value";typeof e=="object"?e[n]=t:i.items[e].data[n]=t};const T=function(e,t){if(!e){let t=i.options.autocomplete==true?i.header.value:"";e=prompt(r.translate("Add A New Option"),t);if(!e)return false}t||(t=c.guid());if(i.options.format)n={id:t,name:e};else var n={value:t,text:e};if(typeof i.options.onbeforeinsert=="function"){let e=i.options.onbeforeinsert(i,n);if(e===false)return false;e&&(n=e)}i.options.data.push(n);var o=i.createItem(n);x.appendChild(o.element);typeof i.options.oninsert=="function"&&i.options.oninsert(i,n,o);x.style.display=="none"&&(x.style.display="");i.results&&i.results.push(o);return n};
/**
           * Add a new item
           * @param {string} title - title of the new item
           * @param {string} id - value/id of the new item
           */i.add=function(e,t){return typeof i.options.prompt=="function"?i.options.prompt.call(i,T):T(e,t)};i.createItem=function(e,t,n){if(i.options.format){e.id||e.value===void 0||(e.id=e.value);e.name||e.text===void 0||(e.name=e.text)}else{e.value||e.id===void 0||(e.value=e.id);e.text||e.name===void 0||(e.text=e.name)}var o={};o.element=document.createElement("div");o.element.className="jdropdown-item";o.element.indexValue=i.items.length;o.data=e;t&&(o.group=t);e.id&&o.element.setAttribute("id",e.id);e.disabled==true&&o.element.setAttribute("data-disabled",true);e.tooltip&&o.element.setAttribute("title",e.tooltip);if(e.image){var a=document.createElement("img");a.className="jdropdown-image";a.src=e.image;e.title||a.classList.add("jdropdown-image-small");o.element.appendChild(a)}else if(e.icon){var r=document.createElement("span");r.className="jdropdown-icon material-icons";r.innerText=e.icon;e.title||r.classList.add("jdropdown-icon-small");e.color&&(r.style.color=e.color);o.element.appendChild(r)}else if(e.color){var s=document.createElement("div");s.className="jdropdown-color";s.style.backgroundColor=e.color;o.element.appendChild(s)}if(i.options.format)l=e.name;else var l=e.text;var d=document.createElement("div");d.className="jdropdown-description";d.textContent=l||"&nbsp;";if(e.title){var c=document.createElement("div");c.className="jdropdown-title";c.innerText=e.title;d.appendChild(c)}if(i.options.format)u=e.id;else var u=e.value;if(i.value[u]){o.element.classList.add("jdropdown-selected");o.selected=true}i.items.push(o);o.element.appendChild(d);return o};i.appendData=function(e){if(e.length){var t=[];var n=[];for(var o=0;o<e.length;o++)if(e[o].group){n[e[o].group]||(n[e[o].group]=[]);n[e[o].group].push(o)}else t.push(o);var a=0;var r=Object.keys(n);if(r.length>0)for(o=0;o<r.length;o++){var s=document.createElement("div");s.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name";l.textContent=r[o];var d=document.createElement("i");d.className="jdropdown-group-arrow jdropdown-group-arrow-down";l.appendChild(d);var c=document.createElement("div");c.className="jdropdown-group-items";for(var u=0;u<n[r[o]].length;u++){var p=i.createItem(e[n[r[o]][u]],s,r[o]);if(i.options.lazyLoading==false||a<200){c.appendChild(p.element);a++}}s.appendChild(l);s.appendChild(c);i.groups.push(s);c.children.length>0&&x.appendChild(s)}if(t.length)for(o=0;o<t.length;o++){p=i.createItem(e[t[o]]);if(i.options.lazyLoading==false||a<200){x.appendChild(p.element);a++}}}};i.setData=function(e){s();x.textContent="";i.header.value="";i.items=[];if(e&&e.length){for(var t=0;t<e.length;t++)typeof e[t]!="object"&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});i.appendData(e);i.options.data=e}else i.options.data=[];i.close()};i.getData=function(){return i.options.data};i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(u(t)==e)return t;return false};i.getText=function(e){var t=v();return e?t:t.join("; ")};i.getValue=function(e){var t=f();return e?t:t.join(";")};var k=function(e){if(t.value!=i.options.value){t.value=i.options.value;typeof t.oninput=="function"&&t.oninput({type:"input",target:t,value:t.value})}typeof i.options.onchange=="function"&&i.options.onchange(t,i,e,i.options.value)};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";"));if(t!==e){d(e);k(t)}};i.resetSelected=function(){i.setValue(null)};i.selectIndex=function(e,t){e=parseInt(e);if(i.items&&i.items[e]&&(t===true||i.items[e].data.disabled!==true)){i.setCursor(e,false);if(i.options.multiple){var n=i.options.value;if(i.items[e].selected){i.items[e].element.classList.remove("jdropdown-selected");i.items[e].selected=false;delete i.value[u(e)]}else{i.items[e].element.classList.add("jdropdown-selected");i.items[e].selected=true;i.value[u(e)]=p(e)}i.options.value=Object.keys(i.value).join(";");i.options.autocomplete==false&&(i.header.value=v().join("; "));k(n)}else{i.items[e].selected?i.options.allowEmpty!==false&&i.setValue(null):i.setValue(u(e));i.close()}}};i.selectItem=function(e){i.selectIndex(e.indexValue)};var A=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return true}else if(t[n].value==e)return true;return false};i.find=function(e){if(i.search==e.trim())return false;i.search=e;i.setCursor();if(i.groups.length)for(var t=0;t<i.groups.length;t++)i.groups[t].lastChild.textContent="";x.textContent="";if(i.options.remoteSearch==true){i.results=null;var n=i.options.url;let t={url:n,method:"GET",data:{q:e},dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)A(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e);e.length?x.style.display="":x.style.display="none";typeof i.options.onsearch==="function"&&i.options.onsearch(i,e)}};if(typeof i.options.onbeforesearch==="function"){let e=i.options.onbeforesearch(i,t);if(e===false)return;typeof e==="object"&&(t=e)}m(t)}else{e=new RegExp(e,"gi");var o=[];for(t=0;t<i.items.length;t++){var a=p(t);var r=i.items[t].data.title||"";var s=i.items[t].data.group||"";var l=i.items[t].data.synonym||"";l&&(l=l.join(" "));(e==null||i.items[t].selected==true||a.toString().match(e)||r.match(e)||s.match(e)||l.match(e))&&o.push(i.items[t])}if(o.length){x.style.display="";i.results=o;var d=o.length||0;i.options.lazyLoading==true&&d>200&&(d=200);for(t=0;t<d;t++)if(i.results[t].group){i.results[t].group.parentNode||x.appendChild(i.results[t].group);i.results[t].group.lastChild.appendChild(i.results[t].element)}else x.appendChild(i.results[t].element)}else{x.style.display="none";i.results=null}}i.options.autofocus==true&&i.first()};i.open=function(){if(!t.classList.contains("jdropdown-focus")){e.current=i;l(i,true);t.classList.add("jdropdown-focus");c.getWindowWidth()<800&&(i.options.type!=null&&i.options.type!="picker"||b.slideBottom(y,1));if(i.options.autocomplete==true){i.header.value=i.search;i.header.focus()}var n=f();if(n[0]){var o=i.getPosition(n[0]);o!==false&&i.setCursor(o)}if(!i.options.type||i.options.type=="default"){var a=t.getBoundingClientRect();var r=y.getBoundingClientRect();if(i.options.position){y.style.position="fixed";if(window.innerHeight<a.bottom+r.height){y.style.top="";y.style.bottom=window.innerHeight-a.top+1+"px"}else{y.style.top=a.bottom+"px";y.style.bottom=""}y.style.left=a.left+"px"}else if(window.innerHeight<a.bottom+r.height){y.style.top="";y.style.bottom=a.height+1+"px"}else{y.style.top="";y.style.bottom=""}y.style.minWidth=a.width+"px";i.options.maxWidth&&(y.style.maxWidth=i.options.maxWidth);i.items.length||i.options.autocomplete!=true?x.style.display="":x.style.display="none"}}typeof i.options.onopen=="function"&&i.options.onopen(t)};i.close=function(n){if(t.classList.contains("jdropdown-focus")){i.header.value=i.getText();i.setCursor();n||typeof i.options.onclose!="function"||i.options.onclose(t);i.header.blur&&i.header.blur();t.classList.remove("jdropdown-focus");l(i,false);e.current=null}return i.getValue()};i.setCursor=function(e,t){i.currentIndex!=null&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor");if(e==void 0)i.currentIndex=null;else{e=parseInt(e);if(i.items[e].element.parentNode){i.items[e].element.classList.add("jdropdown-cursor");i.currentIndex=e;if(t!==false&&i.items[i.currentIndex].element){x.scrollTop;var n=i.items[i.currentIndex].element;x.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}}}};i.resetCursor=i.setCursor;i.updateCursor=i.setCursor;i.reset=function(){i.setCursor();i.setValue(null)};i.first=function(){i.options.lazyLoading===true&&i.loadFirst();var e=x.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}};i.last=function(){i.options.lazyLoading===true&&i.loadLast();var e=x.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}};i.next=function(e){var t=null;if(e){if(e.length==1){var n=i.currentIndex||-1;e=e.toLowerCase();var o=null;var a=null;var r=x.querySelectorAll(".jdropdown-item");if(r.length){for(var s=0;s<r.length;s++)if(r[s].indexValue>n&&(o=i.items[r[s].indexValue])&&(a=o.element.innerText[0])){a=a.toLowerCase();if(e==a){t=r[s].indexValue;break}}i.setCursor(t)}}}else if(i.currentIndex==void 0||i.currentIndex==null)i.first();else{var l=i.items[i.currentIndex].element;var d=l.nextElementSibling;if(d){d.classList.contains("jdropdown-group")&&(d=d.lastChild.firstChild);t=d.indexValue}else if(l.parentNode.classList.contains("jdropdown-group-items")){(d=l.parentNode.parentNode.nextElementSibling)&&(d.classList.contains("jdropdown-group")?d=d.lastChild.firstChild:d.classList.contains("jdropdown-item")?t=d.indexValue:d=null);d&&(t=d.indexValue)}t!==null&&i.setCursor(t)}};i.prev=function(){var e=null;if(i.currentIndex===null)i.first();else{var t=i.items[i.currentIndex].element;var n=t.previousElementSibling;if(n){n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild);e=n.indexValue}else if(t.parentNode.classList.contains("jdropdown-group-items")){(n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null);n&&(e=n.indexValue)}}e!==null&&i.setCursor(e)};i.loadFirst=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length||0;i.options.lazyLoading==true&&t>200&&(t=200);x.textContent="";for(var n=0;n<t;n++)if(e[n].group){e[n].group.parentNode||x.appendChild(e[n].group);e[n].group.lastChild.appendChild(e[n].element)}else x.appendChild(e[n].element);x.scrollTop=0};i.loadLast=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length;if(t>200){t-=200;x.textContent="";for(var n=t;n<e.length;n++)if(e[n].group){e[n].group.parentNode||x.appendChild(e[n].group);e[n].group.lastChild.appendChild(e[n].element)}else x.appendChild(e[n].element);x.scrollTop=x.scrollHeight}};i.loadUp=function(){var e=false;if(i.results)var t=i.results;else t=i.items;var n=x.querySelectorAll(".jdropdown-item");var o=n[0].indexValue;o=i.items[o];var a=t.indexOf(o)-1;if(a>0){var r=0;while(a>0&&t[a]&&r<200){if(t[a].group){t[a].group.parentNode||x.insertBefore(t[a].group,x.firstChild);t[a].group.lastChild.insertBefore(t[a].element,t[a].group.lastChild.firstChild)}else x.insertBefore(t[a].element,x.firstChild);a--;r++}e=true}return e};i.loadDown=function(){var e=false;if(i.results)var t=i.results;else t=i.items;var n=x.querySelectorAll(".jdropdown-item");var o=n[n.length-1].indexValue;o=i.items[o];var a=t.indexOf(o)+1;if(a<t.length){var r=0;while(a<t.length&&t[a]&&r<200){if(t[a].group){t[a].group.parentNode||x.appendChild(t[a].group);t[a].group.lastChild.appendChild(t[a].element)}else x.appendChild(t[a].element);a++;r++}e=true}return e};C();return i};e.keydown=function(t){var n=null;if(n=e.current)if(t.which==13||t.which==9)if(n.header.value&&n.currentIndex==null&&n.options.newOptions)n.add();else{n.currentIndex==null&&n.options.autocomplete==true&&n.header.value!=""&&n.find(n.header.value);n.selectIndex(n.currentIndex)}else if(t.which==38){n.currentIndex==null?n.first():n.currentIndex>0&&n.prev();t.preventDefault()}else if(t.which==40){n.currentIndex==null?n.first():n.currentIndex+1<n.items.length&&n.next();t.preventDefault()}else if(t.which==36){n.first();t.target.classList.contains("jdropdown-header")||t.preventDefault()}else if(t.which==35){n.last();t.target.classList.contains("jdropdown-header")||t.preventDefault()}else if(t.which==27)n.close();else if(t.which==33){if(n.currentIndex==null)n.first();else if(n.currentIndex>0)for(var i=0;i<7;i++)n.prev();t.preventDefault()}else if(t.which==34){if(n.currentIndex==null)n.first();else if(n.currentIndex+1<n.items.length)for(i=0;i<7;i++)n.next();t.preventDefault()}};e.mouseup=function(e){var t=c.findElement(e.target,"jdropdown");if(t){var n=t.dropdown;if(e.target.classList.contains("jdropdown-header"))if(t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")){var i=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var o=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else{o=e.clientX;e.clientY}i.width-(o-i.left)<30?e.target.classList.contains("jdropdown-add")?n.add():n.close():n.options.autocomplete==false&&n.close()}else n.open();else if(e.target.classList.contains("jdropdown-group-name")){var a=e.target.nextSibling.children;if(e.target.nextSibling.style.display!="none")for(var r=0;r<a.length;r++)a[r].style.display!="none"&&n.selectItem(a[r])}else if(e.target.classList.contains("jdropdown-group-arrow"))if(e.target.classList.contains("jdropdown-group-arrow-down")){e.target.classList.remove("jdropdown-group-arrow-down");e.target.classList.add("jdropdown-group-arrow-up");e.target.parentNode.nextSibling.style.display="none"}else{e.target.classList.remove("jdropdown-group-arrow-up");e.target.classList.add("jdropdown-group-arrow-down");e.target.parentNode.nextSibling.style.display=""}else e.target.classList.contains("jdropdown-item")?n.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?n.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?n.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&n.close()}};e.extractFromDom=function(e,t){var n=e;t||(t={});!e.getAttribute("multiple")||t&&t.multiple!=void 0||(t.multiple=true);!e.getAttribute("placeholder")||t&&t.placeholder!=void 0||(t.placeholder=e.getAttribute("placeholder"));!e.getAttribute("data-autocomplete")||t&&t.autocomplete!=void 0||(t.autocomplete=true);t&&t.width!=void 0||(t.width=e.offsetWidth);!e.value||t&&t.value!=void 0||(t.value=e.value);if(!t||t.data==void 0){t.data=[];for(var i=0;i<e.children.length;i++)if(e.children[i].tagName=="OPTGROUP")for(var o=0;o<e.children[i].children.length;o++)t.data.push({value:e.children[i].children[o].value,text:e.children[i].children[o].textContent,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].textContent})}t&&t.onchange!=void 0||(t.onchange=function(e,i,o,a){t.multiple==true?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=a});var a=document.createElement("div");e.parentNode.insertBefore(a,e);e.style.display="none";e=a;return{el:e,options:t}};return e}var S=I();function H(e,t){if(e.picker)return e.picker.setOptions(t,true);var n={type:"picker"};n.options={};var i=null;var o=null;var a=function(e){return e instanceof Element||e instanceof HTMLDocument};var r=function(){o.innerHTML="";var e=Object.keys(n.options.data);for(var t=0;t<e.length;t++){var i=document.createElement("div");i.classList.add("jpicker-item");i.setAttribute("role","option");i.k=e[t];i.v=n.options.data[e[t]];var r=n.getLabel(e[t],i);a(r)?i.appendChild(r):i.innerHTML=r;o.appendChild(i)}};n.setOptions=function(e,t){var a={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:true,right:false,bottom:false,content:false,columns:null,grid:null,height:null};e&&e.options&&(e.data=e.options);for(var s in a)e&&e.hasOwnProperty(s)?n.options[s]=e[s]:typeof n.options[s]!="undefined"&&t!==true||(n.options[s]=a[s]);n.options.header===false?i.style.display="none":i.style.display="";n.options.width?i.style.width=parseInt(n.options.width)+"px":i.style.width="";if(n.options.height){o.style.maxHeight=n.options.height+"px";o.style.overflow="scroll"}else o.style.overflow="";if(n.options.columns>0)if(n.options.grid){o.classList.add("jpicker-grid");o.style.gridTemplateColumns="repeat("+n.options.grid+", 1fr)"}else{o.classList.add("jpicker-columns");o.style.width=n.options.width?n.options.width:36*n.options.columns+"px"}isNaN(parseInt(n.options.value))&&(n.options.value=0);r();n.setValue(n.options.value);return n};n.getValue=function(){return n.options.value};n.setValue=function(t,i){n.setLabel(t);n.options.value=String(t);if(e.value!=n.options.value){e.value=n.options.value;typeof e.oninput=="function"&&e.oninput({type:"input",target:e,value:e.value})}o.children[t]&&o.children[t].getAttribute("type")!=="generic"&&n.close();if(i&&typeof n.options.onchange=="function"){var a=n.options.data[t];n.options.onchange(e,n,a,a,t,i)}};n.getLabel=function(e,t){var i=n.options.data[e]||null;typeof n.options.render=="function"&&(i=n.options.render(i,t));return i};n.setLabel=function(e){var t;t=n.options.content?'<i class="material-icons">'+n.options.content+"</i>":n.getLabel(e,null);if(a(t)){i.innerHTML="";i.appendChild(t)}else i.innerHTML=t};n.open=function(){if(!e.classList.contains("jpicker-focus")){l(n,true);e.classList.add("jpicker-focus");e.focus();var t=0;var a=0;o.style.marginLeft="";var r=i.getBoundingClientRect();var s=o.getBoundingClientRect();t=window.innerHeight<r.bottom+s.height||n.options.bottom?-1*(s.height+4):r.height+4;n.options.right===true&&(a=-1*s.width+r.width);s.left+a<0&&(a=a+s.left+10);s.left+s.width>window.innerWidth&&(a=-1*(10+s.left+s.width-window.innerWidth));o.style.marginTop=parseInt(t)+"px";o.style.marginLeft=parseInt(a)+"px";typeof n.options.onopen=="function"&&n.options.onopen(e,n)}};n.close=function(){if(e.classList.contains("jpicker-focus")){e.classList.remove("jpicker-focus");l(n,false);typeof n.options.onclose=="function"&&n.options.onclose(e,n)}};var s=function(){let a=c.guid();e.classList.add("jpicker");e.setAttribute("role","combobox");e.setAttribute("aria-haspopup","listbox");e.setAttribute("aria-expanded","false");e.setAttribute("aria-controls",a);e.setAttribute("tabindex","0");e.onmousedown=function(t){e.classList.contains("jpicker-focus")||n.open()};i=document.createElement("div");i.classList.add("jpicker-header");o=document.createElement("div");o.setAttribute("id",a);o.setAttribute("role","listbox");o.classList.add("jpicker-content");o.onclick=function(e){var t=c.findElement(e.target,"jpicker-item");t&&t.parentNode===o&&n.setValue(t.k,e)};e.appendChild(i);e.appendChild(o);e.value=t.value||0;n.setOptions(t);typeof n.options.onload=="function"&&n.options.onload(e,n);e.change=n.setValue;e.val=function(e){if(e===void 0)return n.getValue();n.setValue(e)};e.picker=n};s();return n}function R(t,n){var i={type:"toolbar"};i.options={};var o={app:null,container:false,badge:false,title:false,responsive:false,maxWidth:null,bottom:true,items:[]};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];if(!t&&n.app&&n.app.el){t=document.createElement("div");n.app.el.appendChild(t)}var r=document.createElement("div");r.classList.add("jtoolbar-item");r.classList.add("jtoolbar-arrow");var s=document.createElement("div");s.classList.add("jtoolbar-floating");r.appendChild(s);i.selectItem=function(e){var t=d.children;for(var n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")};i.hide=function(){b.slideBottom(t,0,(function(){t.style.display="none"}))};i.show=function(){t.style.display="";b.slideBottom(t,1)};i.get=function(){return t};i.setBadge=function(e,t){d.children[e].children[1].firstChild.innerHTML=t};i.destroy=function(){toolbar.remove();t.innerHTML=""};i.update=function(e,n){for(var o=0;o<d.children.length;o++){var a=d.children[o];typeof a.updateState=="function"&&a.updateState(t,i,a,e,n)}for(o=0;o<s.children.length;o++){a=s.children[o];typeof a.updateState=="function"&&a.updateState(t,i,a,e,n)}};i.create=function(n){d.innerHTML="";for(var o=0;o<n.length;o++){var a=document.createElement("div");a.classList.add("jtoolbar-item");n[o].width&&(a.style.width=parseInt(n[o].width)+"px");n[o].k&&(a.k=n[o].k);if(n[o].tooltip){a.setAttribute("title",n[o].tooltip);a.setAttribute("aria-label",n[o].tooltip)}n[o].id&&a.setAttribute("id",n[o].id);n[o].updateState&&(a.updateState=n[o].updateState);n[o].active&&a.classList.add("jtoolbar-active");n[o].disabled&&a.classList.add("jtoolbar-disabled");if(n[o].type=="select"||n[o].type=="dropdown")H(a,n[o]);else if(n[o].type=="divisor")a.classList.add("jtoolbar-divisor");else if(n[o].type=="label"){a.classList.add("jtoolbar-label");a.innerHTML=n[o].content}else{var r=document.createElement("i");if(typeof n[o].class==="undefined")r.classList.add("material-icons");else{var s=n[o].class.split(" ");for(var l=0;l<s.length;l++)r.classList.add(s[l])}r.innerHTML=n[o].content?n[o].content:"";a.setAttribute("role","button");a.appendChild(r);if(i.options.badge==true){var c=document.createElement("div");c.classList.add("jbadge");var u=document.createElement("div");u.innerHTML=n[o].badge?n[o].badge:"";c.appendChild(u);a.appendChild(c)}if(n[o].title)if(i.options.title==true){var p=document.createElement("span");p.innerHTML=n[o].title;a.appendChild(p)}else a.setAttribute("title",n[o].title);if(i.options.app&&n[o].route){a.route=n[o].route;a.onclick=function(){i.options.app.pages((this||e).route)};i.options.app.pages(n[o].route,{toolbarItem:a,closed:true})}typeof n[o].render==="function"&&n[o].render(a,n[o])}n[o].onclick&&(a.onclick=n[o].onclick.bind(n[o],t,i,a));d.appendChild(a)}setTimeout((function(){i.refresh()}),0)};i.open=function(){r.classList.add("jtoolbar-arrow-selected");t.getBoundingClientRect();var e=s.getBoundingClientRect();e.bottom>window.innerHeight||i.options.bottom?s.style.bottom="0":s.style.removeProperty("bottom");s.style.right="0";r.children[0].focus();l(i,true)};i.close=function(){r.classList.remove("jtoolbar-arrow-selected");l(i,false)};i.refresh=function(){if(i.options.responsive==true){var e=t.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=e.width);var n=parseInt(i.options.maxWidth);r.parentNode&&r.parentNode.removeChild(r);while(s.firstChild)d.appendChild(s.firstChild);if(n<d.offsetWidth){n-=50;while(d.lastChild&&n<d.offsetWidth)s.insertBefore(d.lastChild,s.firstChild)}s.children.length>0&&d.appendChild(r)}};i.setReadonly=function(e){e=e?"add":"remove";t.classList[e]("jtoolbar-disabled")};t.onclick=function(e){var t=c.findElement(e.target,"jtoolbar-item");t&&i.selectItem(t);e.target.classList.contains("jtoolbar-arrow")&&i.open()};window.addEventListener("resize",(function(){i.refresh()}));t.classList.add("jtoolbar");t.innerHTML="";i.options.container==true&&t.classList.add("jtoolbar-container");var d=document.createElement("div");t.appendChild(d);i.options.app&&t.classList.add("jtoolbar-mobile");i.create(i.options.items);t.toolbar=i;return i}function Y(){var t=function(n,i){var o={type:"editor"};o.options={};var a={url:null,value:"",snippet:null,toolbar:true,toolbarOnTop:false,remoteParser:null,placeholder:null,filterPaste:true,dropZone:true,dropAsSnippet:false,acceptImages:true,acceptFiles:false,maxFileSize:5e6,allowImageResize:true,maxHeight:null,height:null,focus:false,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(var r in a)i&&i.hasOwnProperty(r)?o.options[r]=i[r]:o.options[r]=a[r];var s=null;var l=null;var d=[];o.el=n;typeof o.options.onclick=="function"&&(n.onclick=function(e){o.options.onclick(n,o,e)});n.classList.add("jeditor-container");var u=document.createElement("div");u.className="jsnippet";u.setAttribute("contenteditable",false);var p=document.createElement("div");p.className="jeditor-toolbar";o.editor=document.createElement("div");o.editor.setAttribute("contenteditable",true);o.editor.setAttribute("spellcheck",false);o.editor.classList.add("jeditor");o.options.placeholder&&o.editor.setAttribute("data-placeholder",o.options.placeholder);if(o.options.maxHeight||o.options.height){o.editor.style.overflowY="auto";o.options.maxHeight&&(o.editor.style.maxHeight=o.options.maxHeight);o.options.height&&(o.editor.style.height=o.options.height)}if(o.options.url)m({url:o.options.url,dataType:"html",success:function(e){o.editor.innerHTML=e;t.setCursor(o.editor,o.options.focus=="initial")}});else if(o.options.value)o.editor.innerHTML=o.options.value;else for(var f=0;f<n.children.length;f++)o.editor.appendChild(n.children[f]);n.innerHTML="";var h=function(e){typeof o.options.onchange=="function"&&o.options.onchange(n,o,e);o.options.value=o.getData();if(n.value!=o.options.value){n.value=o.options.value;typeof n.oninput=="function"&&n.oninput({type:"input",target:n,value:n.value})}};var v=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var i=0;i<n.length;i++)o.addImage(n[i].src)};var g=function(){var e=null;if(e=u.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t);t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}};var y=function(e){u.innerHTML||o.appendSnippet({});u.children[0].appendChild(e);g()};
/**
           * Append snippet
           * @Param object data
           */o.appendSnippet=function(e){u.innerHTML="";var t=["image","title","description","host","url"];for(var n=0;n<t.length;n++){var i=document.createElement("div");i.className="jsnippet-"+t[n];i.setAttribute("data-k",t[n]);u.appendChild(i);if(e[t[n]])if(t[n]=="image"){Array.isArray(e.image)||(e.image=[e.image]);for(var a=0;a<e.image.length;a++){var r=document.createElement("img");r.src=e.image[a];i.appendChild(r)}}else i.innerHTML=e[t[n]]}o.editor.appendChild(document.createElement("br"));o.editor.appendChild(u)};o.setData=function(e){o.editor.innerHTML=typeof e=="object"?e.content:e;o.options.focus&&t.setCursor(o.editor,true);d=[]};o.getFiles=function(){var e=o.editor.querySelectorAll(".jfile");var t=[];for(var n=0;n<e.length;n++)d[e[n].src]&&t.push(d[e[n].src]);return t};o.getText=function(){return o.editor.innerText};o.getData=function(e){if(e){c={content:""};if(u.innerHTML){c.snippet={};for(var t=0;t<u.children.length;t++){var n=u.children[t].getAttribute("data-k");if(n)if(n=="image"){c.snippet.image||(c.snippet.image=[]);for(var i=0;i<u.children[t].children.length;i++)c.snippet.image.push(u.children[t].children[i].getAttribute("src"))}else c.snippet[n]=u.children[t].innerHTML}}var a=Object.keys(d);if(a.length){c.files=[];for(t=0;t<a.length;t++)c.files.push(d[a[t]])}var r=document.createElement("div");r.innerHTML=o.editor.innerHTML;var s=r.querySelector(".jsnippet");s&&s.remove();var l=r.innerHTML;l=l.replace(/<br>/g,"\n");l=l.replace(/<\/div>/g,"</div>\n");l=l.replace(/<(?:.|\n)*?>/gm,"");c.content=l.trim();P("getData",c)}else var c=o.editor.innerHTML;return c};o.reset=function(){o.editor.innerHTML="";u.innerHTML="";d=[]};o.addPdf=function(e){if(e.result.substr(0,4)!="data")console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60;t.height=60;var n=new Image;var i=t.getContext("2d");i.drawImage(n,0,0,t.width,t.height);t.toBlob((function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t);n.title=e.name;n.className="jfile pdf";d[n.src]={file:n.src,extension:"pdf",content:e.result};document.execCommand("insertHtml",false,n.outerHTML)}))}};o.addImage=function(e,t){if(o.options.acceptImages){e||(e="");if(e.substr(0,4)=="data"||o.options.remoteParser){if(e.substr(0,4)=="data"){var n=e.split(";");n=n[0].split("/");n=n[1]}else{n=e.substr(e.lastIndexOf(".")+1);e=o.options.remoteParser+e}var i=new Image;i.onload=function(){var e=document.createElement("canvas");e.width=i.width;e.height=i.height;var a=e.getContext("2d");a.drawImage(i,0,0,e.width,e.height);e.toBlob((function(a){var r=document.createElement("img");r.src=window.URL.createObjectURL(a);r.classList.add("jfile");r.setAttribute("tabindex","900");r.setAttribute("width",i.width);r.setAttribute("height",i.height);d[r.src]={file:r.src,extension:n,content:e.toDataURL()};if(o.options.dropAsSnippet||t){y(r);d[r.src].snippet=true}else document.execCommand("insertHtml",false,r.outerHTML);h()}))};i.src=e}else console.error("remoteParser not defined in your initialization")}};o.addFile=function(e){var t=[];for(var n=0;n<e.length;n++)if(e[n].size>o.options.maxFileSize)alert("The file is too big");else{var i=e[n].type.split("/");i=i[0]=="image"?1:i[1]=="pdf"?2:0;if(i){t[n]=new FileReader;t[n].index=n;t[n].type=i;t[n].name=e[n].name;t[n].date=e[n].lastModified;t[n].size=e[n].size;t[n].addEventListener("load",(function(e){e.target.type==2?o.options.acceptFiles==true&&o.addPdf(e.target):o.addImage(e.target.result)}),false);t[n].readAsDataURL(e[n])}else alert("The extension is not allowed")}};o.destroy=function(){o.editor.removeEventListener("mouseup",S);o.editor.removeEventListener("mousedown",H);o.editor.removeEventListener("mousemove",Y);o.editor.removeEventListener("keyup",D);o.editor.removeEventListener("keydown",I);o.editor.removeEventListener("dragstart",T);o.editor.removeEventListener("dragenter",k);o.editor.removeEventListener("dragover",A);o.editor.removeEventListener("drop",O);o.editor.removeEventListener("paste",C);o.editor.removeEventListener("blur",N);o.editor.removeEventListener("focus",M);n.editor=null;n.classList.remove("jeditor-container");p.remove();u.remove();o.editor.remove()};o.upload=function(){c.click(o.file)};const b=["html","body","address","span","div","h1","h2","h3","h4","h5","h6","p","b","i","blockquote","strong","em","ul","ol","li","a","code","pre","hr","br","img","figure","picture","figcaption","iframe","table","thead","tbody","tfoot","tr","th","td","caption","u","del","ins","sub","sup","small","mark","input","textarea","select","option","button","label","fieldset","legend","audio","video","abbr","cite","kbd","section","article","nav","aside","header","footer","main","details","summary","svg","line","source"];const x=["width","height","align","border","src","tabindex"];const w=["color","font-weight","font-size","background","background-color","margin"];const L=function(e){e.tagName&&b.indexOf(e.tagName.toLowerCase())===-1&&e.innerText&&(e.innerHTML=e.innerText);if(e.attributes&&e.attributes.length){let t=null;let n=e.getAttribute("style");if(n){t=[];let e=n.split(";");for(let n=0;n<e.length;n++){let i=e[n].trim().split(":");if(w.indexOf(i[0].trim())>=0){let e=i.shift();i=i.join(":");t.push(e+":"+i)}}}if(e.tagName.toUpperCase()==="IMG")if(o.options.acceptImages&&e.src){e.setAttribute("tabindex","900");o.addImage(e.src)}else e.parentNode.removeChild(e);let i=[];for(let t=0;t<e.attributes.length;t++)i.push(e.attributes[t].name);i.length&&i.forEach((function(t){x.indexOf(t)===-1?e.removeAttribute(t):e.attributes&&e.attributes[f]&&e.attributes[f].value.indexOf("<")!==-1&&e.attributes[f].value.replace("<","&#60;")}));e.style="";t&&t.length&&e.setAttribute("style",t.join(";"))}if(e.children.length)for(let t=e.children.length;t>0;t--)L(e.children[t-1])};var j=function(e){var t=window.getSelection();var n=document.createRange();n.selectNode(e);t.addRange(n)};var E=function(e){e&&(e=e.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var t=new DOMParser;var n=t.parseFromString(e,"text/html");L(n);var i=document.createElement("div");i.innerHTML=n.firstChild.innerHTML;return i};var C=function(e){if(o.options.filterPaste==true){if(e.clipboardData||e.originalEvent.clipboardData){var t=(e.originalEvent||e).clipboardData.getData("text/html");var n=(e.originalEvent||e).clipboardData.getData("text/plain");var i=(e.originalEvent||e).clipboardData.files}else if(window.clipboardData){t=window.clipboardData.getData("Html");n=window.clipboardData.getData("Text");i=window.clipboardData.files}if(i.length)o.addFile(i);else if(t){var a=E(t);document.execCommand("insertHtml",false,a.innerHTML)}else{t=n.split("\r\n");if(e.target.innerText){t=t.map((function(e){return"<div>"+e+"</div>"}));document.execCommand("insertText",false,t.join(""))}else t.map((function(e){var t=document.createElement("div");t.innerText=e;o.editor.appendChild(t)}))}e.preventDefault()}};var T=function(e){l&&l.e&&e.preventDefault()};var k=function(e){if(l||o.options.dropZone==false);else{n.classList.add("jeditor-dragging");e.preventDefault()}};var A=function(e){if(l||o.options.dropZone==false);else{s&&clearTimeout(s);s=setTimeout((function(){n.classList.remove("jeditor-dragging")}),100);e.preventDefault()}};var O=function(e){if(l||o.options.dropZone==false);else{var t=null;if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else if(e.rangeParent){t=document.createRange();t.setStart(e.rangeParent,e.rangeOffset)}var i=window.getSelection();i.removeAllRanges();i.addRange(t);i.anchorNode.parentNode.focus();var a=(e.originalEvent||e).dataTransfer.getData("text/html");var r=(e.originalEvent||e).dataTransfer.getData("text/plain");var s=(e.originalEvent||e).dataTransfer.files;s.length?o.addFile(s):r&&v(a);n.classList.remove("jeditor-dragging");e.preventDefault()}};var N=function(e){P("onevent",e);h(e);typeof o.options.onblur=="function"&&o.options.onblur(n,o,e)};var M=function(e){typeof o.options.onfocus=="function"&&o.options.onfocus(n,o,e)};var D=function(e){o.editor.innerHTML||(o.editor.innerHTML="<div><br></div>");typeof o.options.onkeyup=="function"&&o.options.onkeyup(n,o,e)};var I=function(e){P("onevent",e);if(e.key=="Delete"&&e.target.tagName=="IMG"){var t=e.target.parentNode;j(e.target);t.classList.contains("jsnippet-image")&&g()}typeof o.options.onkeydown=="function"&&o.options.onkeydown(n,o,e)};var S=function(e){if(l&&l.e){l.e.classList.remove("resizing");if(l.e.changed==true){var t=l.e.cloneNode();t.width=parseInt(l.e.style.width)||l.e.getAttribute("width");t.height=parseInt(l.e.style.height)||l.e.getAttribute("height");l.e.style.width="";l.e.style.height="";j(l.e);document.execCommand("insertHtml",false,t.outerHTML)}}l=false};var H=function(e){var t=function(t){var n=t.getBoundingClientRect();if(n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40){t.innerHTML="";t.remove()}};if(e.target.tagName=="IMG")if(e.target.style.cursor){var n=e.target.getBoundingClientRect();l={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor};e.target.getAttribute("width")||e.target.setAttribute("width",n.width);e.target.getAttribute("height")||e.target.setAttribute("height",n.height);var i=window.getSelection();if(i.rangeCount)for(var o=0;o<i.rangeCount;o++)i.removeRange(i.getRangeAt(o));e.target.classList.add("resizing")}else l=true;else{e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode);l=true}};var Y=function(e){if(e.target.tagName=="IMG"&&!e.target.parentNode.classList.contains("jsnippet-image")&&o.options.allowImageResize==true&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(e.which==1&&l&&l.d){if(l.d=="e-resize"||l.d=="ne-resize"||l.d=="se-resize"){l.e.style.width=l.w+(e.clientX-l.x);if(e.shiftKey){var n=(e.clientX-l.x)*(l.h/l.w);l.e.style.height=l.h+n}else n=null}n||l.d!="s-resize"&&l.d!="se-resize"&&l.d!="sw-resize"||e.shiftKey||(l.e.style.height=l.h+(e.clientY-l.y));l.e.changed=true}};var P=function(e,t){if(o.options.extensions){var n=Object.keys(o.options.extensions);if(n.length)for(var i=0;i<n.length;i++)o.options.extensions[n[i]]&&typeof o.options.extensions[n[i]][e]=="function"&&o.options.extensions[n[i]][e].call(o,t)}};var V=function(){if(o.options.extensions){var e=Object.keys(o.options.extensions);if(e.length)for(var t=0;t<e.length;t++)o.options.extensions[e[t]]&&typeof o.options.extensions[e[t]]=="function"&&(o.options.extensions[e[t]]=o.options.extensions[e[t]](n,o))}};document.addEventListener("mouseup",S);document.addEventListener("mousemove",Y);o.editor.addEventListener("mousedown",H);o.editor.addEventListener("keyup",D);o.editor.addEventListener("keydown",I);o.editor.addEventListener("dragstart",T);o.editor.addEventListener("dragenter",k);o.editor.addEventListener("dragover",A);o.editor.addEventListener("drop",O);o.editor.addEventListener("paste",C);o.editor.addEventListener("focus",M);o.editor.addEventListener("blur",N);n.appendChild(o.editor);o.options.snippet&&o.appendSnippet(o.options.snippet);if(o.options.toolbar){if(Array.isArray(o.options.toolbar))var F={container:true,responsive:true,items:o.options.toolbar};else if(o.options.toolbar===true)F={container:true,responsive:true,items:[]};else F=o.options.toolbar;F.items&&F.items.length||(F.items=t.getDefaultToolbar(o));if(o.options.toolbarOnTop){n.classList.add("toolbar-on-top");n.insertBefore(p,n.firstChild)}else{o.editor.style.padding="15px";n.appendChild(p)}R(p,F);p.addEventListener("click",(function(){o.editor.focus()}))}o.file=document.createElement("input");o.file.style.display="none";o.file.type="file";o.file.setAttribute("accept","image/*");o.file.onchange=function(){o.addFile((this||e).files)};n.appendChild(o.file);o.options.focus&&t.setCursor(o.editor,o.options.focus=="initial");n.change=o.setData;n.val=function(e){if(e===void 0){var t=n.getAttribute("data-html")!=="true";return o.getData(t)}o.setData(e)};V();n.editor=o;typeof o.options.onload=="function"&&o.options.onload(n,o,o.editor);return o};t.setCursor=function(e,t){e.focus();document.execCommand("selectAll");var n=window.getSelection();var i=n.getRangeAt(0);if(t==true){var o=i.startContainer;var a=0}else{o=i.endContainer;a=o.length}i.setStart(o,a);i.setEnd(o,a);n.removeAllRanges();n.addRange(i)};t.getDefaultToolbar=function(t){var n=function(e,t,n){if(!n.color){N(n,{onchange:function(e,t){n.k==="color"?document.execCommand("foreColor",false,t):document.execCommand("backColor",false,t)}});n.color.open()}};var i=[];i.push({content:"undo",onclick:function(){document.execCommand("undo")}});i.push({content:"redo",onclick:function(){document.execCommand("redo")}});i.push({type:"divisor"});if(t.options.toolbarOnTop){i.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,o){document.execCommand("fontName",false,i)}});i.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(e){return'<span style="font-size:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,o){document.execCommand("fontSize",false,parseInt(o)+1)}});i.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(e){return'<i class="material-icons">'+e+"</i>"},onchange:function(e,t,n,i,o){var a=["JustifyLeft","justifyCenter","justifyRight","justifyFull"];document.execCommand(a[o])}});i.push({type:"divisor"});i.push({content:"format_color_text",k:"color",onclick:n});i.push({content:"format_color_fill",k:"background-color",onclick:n})}i.push({content:"format_bold",onclick:function(e,t,n){document.execCommand("bold");document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({content:"format_italic",onclick:function(e,t,n){document.execCommand("italic");document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({content:"format_underline",onclick:function(e,t,n){document.execCommand("underline");document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({type:"divisor"});i.push({content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList");document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList");document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",true,null);document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}});i.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent");document.queryCommandState("outdent")?(this||e).classList.add("selected"):(this||e).classList.remove("selected")}});if(t.options.toolbarOnTop){i.push({type:"divisor"});i.push({content:"photo",onclick:function(){t.upload()}});i.push({type:"select",content:"table_view",columns:8,grid:8,right:true,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7"],render:function(t,n){if(n){n.onmouseover=(this||e).onmouseover;t=t.split("x");n.setAttribute("data-x",t[0]);n.setAttribute("data-y",t[1])}var i=document.createElement("div");n.style.margin="1px";n.style.border="1px solid #ddd";return i},onmouseover:function(e){var t=parseInt(e.target.getAttribute("data-x"));var n=parseInt(e.target.getAttribute("data-y"));for(var i=0;i<e.target.parentNode.children.length;i++){var o=e.target.parentNode.children[i];var a=parseInt(o.getAttribute("data-x"));var r=parseInt(o.getAttribute("data-y"));if(a<=t&&r<=n){o.style.backgroundColor="#cae1fc";o.style.borderColor="#2977ff"}else{o.style.backgroundColor="";o.style.borderColor="#ddd"}}},onchange:function(e,t,n){n=n.split("x");var i=document.createElement("table");var o=document.createElement("tbody");for(var a=0;a<=n[1];a++){var r=document.createElement("tr");for(var s=0;s<=n[0];s++){var l=document.createElement("td");l.innerHTML="";r.appendChild(l)}o.appendChild(r)}i.appendChild(o);i.setAttribute("width","100%");i.setAttribute("cellpadding","6");i.setAttribute("cellspacing","0");document.execCommand("insertHTML",false,i.outerHTML)}})}return i};return t}var P=Y();function V(){var e=function(t,n){var i={};i.options={};var o={type:"big",title:"Untitled",width:510,height:472};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];var r=function(){var e=document.createElement("div");while(t.children[0])e.appendChild(t.children[0]);i.content=document.createElement("div");i.content.className="jfloating_content";i.content.innerHTML=t.innerHTML;while(e.children[0])i.content.appendChild(e.children[0]);i.container=document.createElement("div");i.container.className="jfloating";i.container.appendChild(i.content);i.options.title?i.container.setAttribute("title",i.options.title):i.container.classList.add("no-title");i.options.width&&(i.container.style.width=parseInt(i.options.width)+"px");i.options.height&&(i.container.style.height=parseInt(i.options.height)+"px");t.innerHTML="";t.appendChild(i.container)};var s=function(){i.container&&i.container.addEventListener("click",(function(e){var t=e.target.getBoundingClientRect();if(e.target.classList.contains("jfloating")){if(e.changedTouches&&e.changedTouches[0]){var n=e.changedTouches[0].clientX;var o=e.changedTouches[0].clientY}else{n=e.clientX;o=e.clientY}t.width-(n-t.left)<50&&o-t.top<50?setTimeout((function(){i.close()}),100):i.setState()}}))};var l=function(){i.container.classList.add("jfloating-"+i.options.type)};i.state={isMinized:false};i.setState=function(){i.state.isMinized?i.container.classList.remove("jfloating-minimized"):i.container.classList.add("jfloating-minimized");i.state.isMinized=!i.state.isMinized};i.close=function(){Components.elements.splice(e.elements.indexOf(i.container),1);i.updatePosition();t.remove()};i.updatePosition=function(){for(var t=0;t<e.elements.length;t++){var n=e.elements[t];var i=e.elements[t-1];n.style.right=t*(i?i.offsetWidth:n.offsetWidth)*1.01+"px"}};i.init=function(){r();s();l();e.elements.push(i.container);i.updatePosition();t.floating=i};i.init();return i};e.elements=[];return e}var F=V();function B(){const t=function(e){return!isNaN(e)&&e!==null&&(typeof e!=="string"||e.trim()!=="")};const n={between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},"=":function(e,t){return e==t[0]},"!=":function(e,t){return e!=t[0]}};const i={"valid date":function(){return true},"=":function(e,t){return e===t[0]},"!=":function(e,t){return e!==t[0]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]}};const o={contains:function(e,t){return e.includes(t[0])},"not contains":function(e,t){return!e.includes(t[0])},"begins with":function(e,t){return e.startsWith(t[0])},"ends with":function(e,t){return e.endsWith(t[0])},"=":function(e,t){return e===t[0]},"!=":function(e,t){return e!==t[0]},"valid email":function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return t.test(e)},"valid url":function(e){var t=new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t.test(e)}};const a=function(t,n){return typeof a[n.type]==="function"?!(!n.allowBlank||typeof t!=="undefined"&&t!==""&&t!==null)||a[n.type].call(this||e,t,n):null};a.url=function(e){var t=new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return!!t.test(e)};a.email=function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!e||!t.test(e))};a.required=function(e){return!(!e||!e.trim())};a.empty=function(e){return typeof e==="undefined"||e===null||typeof e==="string"&&!e.toString().trim()};a["not exist"]=a.empty;a.notEmpty=function(e){return!a.empty(e)};a.exist=a.notEmpty;a.number=function(e,i){if(!t(e))return false;if(!i||!i.criteria)return true;if(!n[i.criteria])return false;let o=i.value.map((function(e){return parseFloat(e)}));return n[i.criteria](e,o)};a.login=function(e){let t=new RegExp(/^[a-zA-Z0-9._-]+$/);return!(!e||!t.test(e))};a.list=function(e,t){let n=typeof e;if(n!=="string"&&n!=="number")return false;let i;i=typeof t.value[0]==="string"?t.source?t.source:t.value[0].split(","):t.value[0];if(Array.isArray(i)){let t=i.findIndex((function(t){return t==e}));return t>-1}return false};const r=function(){let e=new Date;e.setHours(0,0,0,0);return e};const s={"one year ago":function(){let e=r();e.setFullYear(e.getFullYear()-1);return e},"one month ago":function(){let e=r();e.setMonth(e.getMonth()-1);return e},"one week ago":function(){let e=r();e.setDate(e.getDate()-7);return e},yesterday:function(){let e=r();e.setDate(e.getDate()-1);return e},today:r,tomorrow:function(){let e=r();e.setDate(e.getDate()+1);return e}};a.date=function(e,n){t(e)&&e>0&&e<1e6&&(e=L.numToDate(e));if(new Date(e)=="Invalid Date")return false;if(!n||!n.criteria)return true;if(!i[n.criteria])return false;let o=n.value.map((function(e){return typeof e==="string"&&s[e]?s[e]().getTime():new Date(e).getTime()}));return i[n.criteria](new Date(e).getTime(),o)};a.text=function(e,t){if(typeof e==="undefined"||e===null)e="";else if(typeof e!=="string")return false;return!t||!t.criteria||!!o[t.criteria]&&o[t.criteria](e,t.value)};a.textLength=function(e,t){let n;n=typeof e==="string"?e.length:typeof e!=="undefined"&&e!==null&&typeof e.toString==="function"?e.toString().length:0;return a.number(n,t)};a.time=function(e,i){if(!t(e))return false;if(!i||!i.criteria)return true;if(!n[i.criteria])return false;let o=i.value.map((function(e){return parseInt(parseFloat(e)*10**17)/10**17}));return n[i.criteria](parseInt(parseFloat(e)*10**17)/10**17,o)};return a}var W=B();function z(){var e=function(t,n){var i={};i.options={};var o={url:null,message:"Are you sure? There are unsaved information in your form",ignore:false,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(e,t){alert(t)}};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];i.options.validations||(i.options.validations={});i.options.submitButton||(i.options.submitButton=t.querySelector("input[type=submit]"));i.options.submitButton&&i.options.url&&(i.options.submitButton.onclick=function(){i.save()});i.options.validations.email||(i.options.validations.email=W.email);i.options.validations.length||(i.options.validations.length=W.length);i.options.validations.required||(i.options.validations.required=W.required);i.setUrl=function(e){i.options.url=e};i.load=function(){m({url:i.options.url,method:"GET",dataType:"json",queue:true,success:function(n){if(typeof i.options.onbeforeload=="function"){var o=i.options.onbeforeload(t,n);o&&(n=o)}e.setElements(t,n);typeof i.options.onload=="function"&&i.options.onload(t,n)}})};i.save=function(){var n=i.validate();if(n)i.options.onerror(t,n);else{var o=e.getElements(t,true);if(typeof i.options.onbeforesave=="function"){o=i.options.onbeforesave(t,o);if(o===false)return}m({url:i.options.url,method:"POST",dataType:"json",data:o,success:function(e){typeof i.options.onsave=="function"&&i.options.onsave(t,o,e)}})}};i.remove=function(){if(typeof i.options.onbeforeremove=="function"){var e=i.options.onbeforeremove(t,i);if(e===false)return false}m({url:i.options.url,method:"DELETE",dataType:"json",success:function(e){typeof i.options.onremove=="function"&&i.options.onremove(t,i,e);i.reset()}})};var r=function(e){e.classList.add("error");i.options.submitButton&&i.options.submitButton.setAttribute("disabled",true);var t=e.getAttribute("data-error")||"There is an error in the form";e.setAttribute("title",t);return t};var s=function(e){var n=false;e.classList.remove("error");e.removeAttribute("title");var o=t.querySelectorAll("input, select, textarea, div[name]");for(var a=0;a<o.length;a++)o[a].getAttribute("data-validation")&&o[a].classList.contains("error")&&(n=true);i.options.submitButton&&(n?i.options.submitButton.setAttribute("disabled",true):i.options.submitButton.removeAttribute("disabled"))};i.validateElement=function(t){var n=false;var o=e.getValue(t);var a=t.getAttribute("data-validation");typeof i.options.validations[a]!="function"||i.options.validations[a](o,t)?t.classList.contains("error")&&s(t):n=r(t);return n};i.reset=function(){var e=t.querySelectorAll("input, select, textarea, div[name]");for(var n=0;n<e.length;n++)e[n].getAttribute("name")&&(e[n].type=="checkbox"||e[n].type=="radio"?e[n].checked=false:typeof e[n].val=="function"?e[n].val(""):e[n].value="")};i.validate=function(){var e=[];var n=t.querySelectorAll("input, select, textarea, div[name]");for(var o=0;o<n.length;o++)if(n[o].getAttribute("data-validation")){var a=i.validateElement(n[o]);a&&e.push(a)}return e.length>0&&e.join("<br>")};i.getError=function(){return!!i.validation()};i.setHash=function(){return i.getHash(e.getElements(t))};i.getHash=function(e){var t,n,i=0;if(e.length===0)return i;for(t=0;t<e.length;t++){n=e.charCodeAt(t);i=(i<<5)-i+n;i|=0}return i};i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e};i.resetTracker=function(){i.options.currentHash=i.setHash();i.options.ignore=false};i.setIgnore=function(e){i.options.ignore=!!e};setTimeout((function(){i.options.currentHash=i.setHash()}),1e3);t.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)}));if(!e.hasEvents){window.addEventListener("beforeunload",(function(e){if(i.isChanged()&&i.options.ignore==false){var t=i.options.message?i.options.message:"o/";if(t){typeof e=="undefined"&&(e=window.event);e&&(e.returnValue=t);return t}}else;}));e.hasEvents=true}t.form=i;return i};e.getValue=function(e){var t=null;if(e.type=="checkbox")e.checked==true&&(t=e.value||true);else if(e.type=="radio")e.checked==true&&(t=e.value);else if(e.type=="file")t=e.files;else if(e.tagName=="select"&&e.multiple==true){t=[];var n=e.querySelectorAll("options[selected]");for(var i=0;i<n.length;i++)t.push(n[i].value)}else t=typeof e.val=="function"?e.val():e.value||"";return t};e.getElements=function(t,n){var i={};var o=null;var a=t.querySelectorAll("input, select, textarea, div[name]");for(var r=0;r<a.length;r++)(o=a[r].getAttribute("name"))&&(i[o]=e.getValue(a[r])||"");return n==true?i:JSON.stringify(i)};e.setElements=function(e,t){var n=null;var i=null;var o=e.querySelectorAll("input, select, textarea, div[name]");for(var a=0;a<o.length;a++){var r=o[a].getAttribute("type");if(n=o[a].getAttribute("name")){n=n.replace(new RegExp(/\[(.*?)\]/gi),".$1");i=null;if(n.match(/\./)){var s=p.call(t,n)||"";typeof s!=="undefined"&&(i=s)}else typeof t[n]!=="undefined"&&(i=t[n]);i!==null&&(r=="checkbox"||r=="radio"?o[a].checked=!!i:r=="file"||(typeof o[a].val=="function"?o[a].val(i):o[a].value=i))}}};return e}var q=z();function _(){var e=function(){var e=null;var t=function(e){if(e.which==27){var t=document.querySelectorAll(".jmodal");for(var n=0;n<t.length;n++)t[n].parentNode.modal.close()}};var n=function(t){let n=t.composedPath();var i=c.findElement(n[0],"jmodal");if(i){var o=i.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var a=t.changedTouches[0].clientX;var r=t.changedTouches[0].clientY}else{a=t.clientX;r=t.clientY}o.width-(a-o.left)<50&&r-o.top<50&&i.parentNode.modal.close()}if(e){e.element.style.cursor="auto";e=null}};var i=function(t){let n=t.composedPath();var i=c.findElement(n[0],"jmodal");if(i){var o=i.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var a=t.changedTouches[0].clientX;var r=t.changedTouches[0].clientY}else{a=t.clientX;r=t.clientY}if(o.width-(a-o.left)<50&&r-o.top<50);else if(r-o.top<50){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges();e={left:o.left,top:o.top,x:t.clientX,y:t.clientY,width:o.width,height:o.height,element:i}}}};var o=function(t){if(e){t=t||window.event;if(t.buttons)var n=t.buttons;else if(t.button)n=t.button;else n=t.which;if(n){e.element.style.top=e.top+(t.clientY-e.y)+e.height/2+"px";e.element.style.left=e.left+(t.clientX-e.x)+e.width/2+"px";e.element.style.cursor="move"}else e.element.style.cursor="auto"}};document.addEventListener("keydown",t);document.addEventListener("mouseup",n);document.addEventListener("mousedown",i);document.addEventListener("mousemove",o)};var t=function(t,n){var i={};i.options={};var o={url:null,onopen:null,onclose:null,onload:null,closed:false,width:null,height:null,title:null,padding:null,backdrop:true,icon:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];!i.options.title&&t.getAttribute("title")&&(i.options.title=t.getAttribute("title"));var r=document.createElement("div");while(t.children[0])r.appendChild(t.children[0]);i.title=document.createElement("div");i.title.className="jmodal_title";i.options.icon&&i.title.setAttribute("data-icon",i.options.icon);i.content=document.createElement("div");i.content.className="jmodal_content";i.content.innerHTML=t.innerHTML;while(r.children[0])i.content.appendChild(r.children[0]);i.container=document.createElement("div");i.container.className="jmodal";i.container.appendChild(i.title);i.container.appendChild(i.content);i.options.padding&&(i.content.style.padding=i.options.padding);i.options.width&&(i.container.style.width=i.options.width);i.options.height&&(i.container.style.height=i.options.height);if(i.options.title){var s=document.createElement("h4");s.innerText=i.options.title;i.title.appendChild(s)}t.innerHTML="";t.style.display="none";t.appendChild(i.container);if(i.options.backdrop){var l=document.createElement("div");l.className="jmodal_backdrop";l.onclick=function(){i.close()};t.appendChild(l)}i.open=function(){t.style.display="block";var e=i.container.getBoundingClientRect();if(c.getWindowWidth()<e.width){i.container.style.top="";i.container.style.left="";i.container.classList.add("jmodal_fullscreen");b.slideBottom(i.container,1)}else i.options.backdrop&&(l.style.display="block");typeof i.options.onopen=="function"&&i.options.onopen(t,i)};i.resetPosition=function(){i.container.style.top="";i.container.style.left=""};i.isOpen=function(){return t.style.display!="none"};i.close=function(){if(i.isOpen()){t.style.display="none";i.options.backdrop&&(l.style.display="");i.container.classList.remove("jmodal_fullscreen");typeof i.options.onclose=="function"&&i.options.onclose(t,i)}};if(i.options.url)m({url:i.options.url,method:"GET",dataType:"text/html",success:function(e){i.content.innerHTML=e;i.options.closed||i.open();typeof i.options.onload==="function"&&i.options.onload(i)}});else{i.options.closed||i.open();typeof i.options.onload==="function"&&i.options.onload(i)}t.modal=i;e();e=function(){};return i};return t}var U=_();function X(){var e=function(e){var t={};t.options={};var n={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:true,closeable:true};for(var i in n)e&&e.hasOwnProperty(i)?t.options[i]=e[i]:t.options[i]=n[i];var o=document.createElement("div");o.className="jnotification";t.options.error&&o.classList.add("jnotification-error");var a=document.createElement("div");a.className="jnotification-container";o.appendChild(a);var r=document.createElement("div");r.className="jnotification-header";a.appendChild(r);var s=document.createElement("div");s.className="jnotification-image";r.appendChild(s);if(t.options.icon){var l=document.createElement("img");l.src=t.options.icon;s.appendChild(l)}var d=document.createElement("div");d.className="jnotification-name";d.innerHTML=t.options.name;r.appendChild(d);if(t.options.closeable==true){var u=document.createElement("div");u.className="jnotification-close";u.onclick=function(){t.hide()};r.appendChild(u)}var p=document.createElement("div");p.className="jnotification-date";r.appendChild(p);var f=document.createElement("div");f.className="jnotification-content";a.appendChild(f);if(t.options.title){var h=document.createElement("div");h.className="jnotification-title";h.innerHTML=t.options.title;f.appendChild(h)}var v=document.createElement("div");v.className="jnotification-message";v.innerHTML=t.options.message;f.appendChild(v);t.show=function(){document.body.appendChild(o);c.getWindowWidth()>800?b.fadeIn(o):b.slideTop(o,1)};t.hide=function(){c.getWindowWidth()>800?b.fadeOut(o,(function(){if(o.parentNode){o.parentNode.removeChild(o);m&&clearTimeout(m)}})):b.slideTop(o,0,(function(){if(o.parentNode){o.parentNode.removeChild(o);m&&clearTimeout(m)}}))};t.show();if(t.options.autoHide==true)var m=setTimeout((function(){t.hide()}),t.options.timeout);c.getWindowWidth()<800&&o.addEventListener("swipeup",(function(e){t.hide();e.preventDefault();e.stopPropagation()}));return t};e.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)};return e}var G=X();function Z(e,t){var n={};n.options={};var i={value:0,onchange:null,width:null};for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];e.classList.add("jprogressbar");e.setAttribute("tabindex",1);e.setAttribute("data-value",n.options.value);var a=document.createElement("div");a.style.width=n.options.value+"%";a.style.color="#fff";e.appendChild(a);n.options.width&&(e.style.width=n.options.width);n.setValue=function(t){t=parseInt(t);n.options.value=t;a.style.width=t+"%";e.setAttribute("data-value",t+"%");e.style.color=t<6?"#000":"#fff";n.options.value=t;typeof n.options.onchange=="function"&&n.options.onchange(e,t);if(e.value!=n.options.value){e.value=n.options.value;typeof e.oninput=="function"&&e.oninput({type:"input",target:e,value:e.value})}};n.getValue=function(){return n.options.value};var r=function(t){if(t.which){var i=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var o=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else{o=t.clientX;t.clientY}n.setValue(Math.round((o-i.left)/i.width*100))}};if("touchstart"in document.documentElement===true){e.addEventListener("touchstart",r);e.addEventListener("touchend",r)}else{e.addEventListener("mousedown",r);e.addEventListener("mousemove",r)}e.change=n.setValue;e.val=function(e){if(e===void 0)return n.getValue();n.setValue(e)};e.progressbar=n;return n}function $(e,t){if(e.rating)return e.rating.setOptions(t,true);var n={};n.options={};n.setOptions=function(t,i){var o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var a in o)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:typeof n.options[a]!="undefined"&&i!==true||(n.options[a]=o[a]);e.innerHTML="";for(var r=0;r<n.options.number;r++){var s=document.createElement("div");s.setAttribute("data-index",r+1);s.setAttribute("title",n.options.tooltip[r]);e.appendChild(s)}if(n.options.value)for(r=0;r<n.options.number;r++)r<n.options.value&&e.children[r].classList.add("jrating-selected");return n};n.setValue=function(t){for(var i=0;i<n.options.number;i++)if(i<t)e.children[i].classList.add("jrating-selected");else{e.children[i].classList.remove("jrating-over");e.children[i].classList.remove("jrating-selected")}n.options.value=t;typeof n.options.onchange=="function"&&n.options.onchange(e,t);if(e.value!=n.options.value){e.value=n.options.value;typeof e.oninput=="function"&&e.oninput({type:"input",target:e,value:e.value})}};n.getValue=function(){return n.options.value};var i=function(){n.setOptions(t);e.classList.add("jrating");e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-index");t!=void 0&&(t==n.options.value?n.setValue(0):n.setValue(t))}));e.addEventListener("mouseover",(function(t){var i=t.target.getAttribute("data-index");for(var o=0;o<n.options.number;o++)o<i?e.children[o].classList.add("jrating-over"):e.children[o].classList.remove("jrating-over")}));e.addEventListener("mouseout",(function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")}));e.change=n.setValue;e.val=function(e){if(e===void 0)return n.getValue();n.setValue(e)};e.rating=n};i();return n}function J(e,t){if(e.search)return e.search;var n=null;var i=function(e){if(e.target.classList.contains("jsearch_item"))var t=e.target;else t=e.target.parentNode;s.selectIndex(t);e.preventDefault()};var o=function(t){if(typeof s.options.onsearch=="function"){var n=s.options.onsearch(s,t);n&&(t=n)}l.innerHTML="";if(t.length){e.style.display="block";var i=t.length<11?t.length:10;for(var o=0;o<i;o++){if(typeof t[o]=="string"){var a=t[o];var r=t[o]}else{a=t[o].text;!a&&t[o].name&&(a=t[o].name);r=t[o].value;!r&&t[o].id&&(r=t[o].id)}var d=document.createElement("div");d.setAttribute("data-value",r);d.setAttribute("data-text",a);d.className="jsearch_item";t[o].id&&d.setAttribute("id",t[o].id);s.options.forceSelect&&o==0&&d.classList.add("selected");var c=document.createElement("img");t[o].image?c.src=t[o].image:c.style.display="none";d.appendChild(c);var u=document.createElement("div");u.innerHTML=a;d.appendChild(u);l.appendChild(d)}}else e.style.display=""};var a=function(e){if(e!=s.terms){s.terms=e;n=s.options.forceSelect?0:null;if(Array.isArray(s.options.data)){var t=function(t){if(typeof t=="string"){if((""+t).toLowerCase().search(e.toLowerCase())>=0)return true}else for(var n in t){var i=t[n];if((""+i).toLowerCase().search(e.toLowerCase())>=0)return true}return false};var i=s.options.data.filter((function(e){return t(e)}));o(i)}else m({url:s.options.data+e,method:"GET",dataType:"json",success:function(e){o(e)}})}};var r=null;var s=function(e){r&&clearTimeout(r);r=setTimeout((function(){a(e)}),500)};t.forceSelect===null&&(t.forceSelect=true);s.options={data:t.data||null,input:t.input||null,searchByNode:t.searchByNode||null,onselect:t.onselect||null,forceSelect:t.forceSelect,onsearch:t.onsearch||null,onbeforesearch:t.onbeforesearch||null};s.selectIndex=function(e){var t=e.getAttribute("id");var n=e.getAttribute("data-text");var i=e.getAttribute("data-value");var o=e.children[0].src||"";typeof s.options.onselect=="function"&&s.options.onselect(s,n,i,t,o);s.close()};s.open=function(){e.style.display="block"};s.close=function(){r&&clearTimeout(r);s.terms="";l.innerHTML="";e.style.display=""};s.isOpened=function(){return!!e.style.display};s.keydown=function(e){if(s.isOpened())if(e.key=="Enter")if(n!==null&&l.children[n]){s.selectIndex(l.children[n]);e.preventDefault()}else s.close();else if(e.key==="ArrowUp"){if(n!==null&&l.children[0]){l.children[n].classList.remove("selected");if(s.options.forceSelect||n!==0){n=Math.max(0,n-1);l.children[n].classList.add("selected")}else n=null}e.preventDefault()}else if(e.key==="ArrowDown"){n==null?n=-1:l.children[n].classList.remove("selected");n<9&&l.children[n+1]&&n++;l.children[n].classList.add("selected");e.preventDefault()}};s.keyup=function(e){if(!s.options.searchByNode&&s.options.input)if(s.options.input.tagName==="DIV")var t=s.options.input.innerText;else t=s.options.input.value;else{var n=c.getNode();if(n)t=n.innerText}if(typeof s.options.onbeforesearch=="function"){var i=s.options.onbeforesearch(s,t);if(i)t=i;else if(i===false)return}s(t)};s.blur=function(e){s.close()};if(s.options.input){s.options.input.addEventListener("keyup",s.keyup);s.options.input.addEventListener("keydown",s.keydown);s.options.input.addEventListener("blur",s.blur)}var l=document.createElement("div");l.classList.add("jsearch_container");l.onmousedown=i;e.appendChild(l);e.classList.add("jsearch");e.search=s;return s}function K(t,n){var i={};i.options={};i.currentImage=null;n&&(i.options=n);t.setAttribute("tabindex","900");i.options.items=[];if(!t.classList.contains("jslider")){t.classList.add("jslider");t.classList.add("unselectable");i.options.height&&(t.style.minHeight=parseInt(i.options.height)+"px");i.options.width&&(t.style.width=parseInt(i.options.width)+"px");if(i.options.grid){t.classList.add("jslider-grid");var o=t.children.length;o>4&&t.setAttribute("data-total",o-4);t.setAttribute("data-number",o>4?4:o)}var a=document.createElement("div");a.classList.add("jslider-counter");if(t.children.length>0)for(var r=0;r<t.children.length;r++){i.options.items.push(t.children[r]);var s=document.createElement("div");s.onclick=function(){var t=Array.prototype.slice.call(a.children).indexOf(this||e);i.show(i.currentImage=i.options.items[t])};a.appendChild(s)}var l=document.createElement("div");l.className="jslider-caption";var d=document.createElement("div");var c=document.createElement("div");c.className="jslider-close";c.innerHTML="";c.onclick=function(){i.close()};d.appendChild(l);d.appendChild(c)}i.updateCounter=function(e){for(var t=0;t<a.children.length;t++)if(a.children[t].classList.contains("jslider-counter-focus")){a.children[t].classList.remove("jslider-counter-focus");break}a.children[e].classList.add("jslider-counter-focus")};i.show=function(e){if(!e)e=t.children[0];t.classList.add("jslider-focus");t.classList.remove("jslider-grid");t.appendChild(d);t.appendChild(a);var n=i.options.items.indexOf(e);i.updateCounter(n);for(var o=0;o<t.children.length;o++)t.children[o].style.display="";e.style.display="block";e.previousElementSibling?t.classList.add("jslider-left"):t.classList.remove("jslider-left");e.nextElementSibling&&e.nextElementSibling.tagName=="IMG"?t.classList.add("jslider-right"):t.classList.remove("jslider-right");i.currentImage=e;i.currentImage.offsetHeight>i.currentImage.offsetWidth&&i.currentImage.classList.add("jslider-vertical");d.children[0].innerText=i.currentImage.getAttribute("title")};i.open=function(){i.show();typeof i.options.onopen=="function"&&i.options.onopen(t)};i.close=function(){t.classList.remove("jslider-focus");t.classList.remove("jslider-left");t.classList.remove("jslider-right");i.options.grid&&t.classList.add("jslider-grid");for(var e=0;e<t.children.length;e++)t.children[e].style.display="";a.remove();d.remove();i.currentImage=null;typeof i.options.onclose=="function"&&i.options.onclose(t)};i.reset=function(){t.innerHTML=""};i.next=function(){var e=i.currentImage.nextElementSibling;e&&e.tagName==="IMG"&&i.show(i.currentImage.nextElementSibling)};i.prev=function(){i.currentImage.previousElementSibling&&i.show(i.currentImage.previousElementSibling)};var u=function(e){if(e.target.tagName=="IMG")i.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!(e.target.parentNode.classList.contains("jslider-counter")||e.target.classList.contains("jslider-counter"))){var t=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-t<40?i.next():t<40&&i.prev()}};"ontouchend"in document.documentElement===true?t.addEventListener("touchend",u):t.addEventListener("mouseup",u);t.addEventListener("swipeleft",(function(e){i.next();e.preventDefault();e.stopPropagation()}));t.addEventListener("swiperight",(function(e){i.prev();e.preventDefault();e.stopPropagation()}));t.addEventListener("keydown",(function(e){e.which==27&&i.close()}));t.slider=i;return i}function Q(e,t){if(e.tags)return e.tags.setOptions(t,true);var n={type:"tags"};n.options={};var i=function(){return!!(n.options.limit&&e.children.length>=n.options.limit)};var o=null;var a=null;n.setOptions=function(t,i){
/**
           * @typedef {Object} defaults
           * @property {(string|Array)} value - Initial value of the compontent
           * @property {number} limit - Max number of tags inside the element
           * @property {string} search - The URL for suggestions
           * @property {string} placeholder - The default instruction text on the element
           * @property {validation} validation - Method to validate the tags
           * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element
           * @property {requestCallback} onchange - Method to be execute after any changes on the element
           * @property {requestCallback} onfocus - Method to be execute when on focus
           * @property {requestCallback} onblur - Method to be execute when on blur
           * @property {requestCallback} onload - Method to be execute when the element is loaded
           */
var r={value:"",limit:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onremoveitem:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null};for(var s in r)t&&t.hasOwnProperty(s)?n.options[s]=t[s]:typeof n.options[s]!="undefined"&&i!==true||(n.options[s]=r[s]);n.options.placeholder?e.setAttribute("data-placeholder",n.options.placeholder):e.removeAttribute("data-placeholder");e.placeholder=n.options.placeholder;n.setValue(n.options.value);u();if(n.options.search){if(!a){a=document.createElement("div");e.parentNode.insertBefore(a,e.nextSibling);o=J(a,{data:n.options.search,onselect:function(e,t,i){n.selectIndex(t,i)}})}}else if(a){o=null;a.remove();a=null}return n};
/**
         * Add a new tag to the element
         * @param {(?string|Array)} value - The value of the new element
         */n.add=function(t,a){if(typeof n.options.onbeforechange=="function"){var u=n.options.onbeforechange(e,n,n.options.value,t);if(u===false)return false;u!=null&&(t=u)}o&&o.close();if(i())typeof n.options.onlimit=="function"?n.options.onlimit(n,n.options.limit):alert(r.translate("You reach the limit number of entries")+" "+n.options.limit);else{var p=c.getNode();if(p&&p.parentNode&&p.parentNode.classList.contains("jtags")&&p.nextSibling&&!(p.nextSibling.innerText&&p.nextSibling.innerText.trim()))m=p.nextSibling;else{e.lastChild&&(e.lastChild.innerText.trim()||e.removeChild(e.lastChild));if(t&&typeof t!="string"){for(var f=0;f<=t.length;f++)if(!i()){if(t[f]&&typeof t[f]!="string"){h=t[f].text;v=t[f].value}else{var h=t[f]||"";var v=null}m=l(h,v)}}else var m=l(t,t,p);d()}a&&s(m)}};n.setLimit=function(t){n.options.limit=t;e.children.length;while(e.children.length>t)e.removeChild(e.lastChild)};n.remove=function(t){t.parentNode.removeChild(t);e.children.length?d():n.add("",true);typeof n.options.onremoveitem=="function"&&n.options.onremoveitem(e,n,t)};n.getData=function(){var t=[];for(var n=0;n<e.children.length;n++){var i=e.children[n].innerText.replace("\n","");var o=e.children[n].getAttribute("data-value");o||(o=i);(i||o)&&t.push({text:i,value:o})}return t};
/**
         * Get the value of one tag. Null for all tags
         * @param {?number} index - Tag index number. Null for all tags.
         * @return {string} value - All tags separated by comma
         */n.getValue=function(t){var i=null;if(t!=null){i=e.children[t].getAttribute("data-value");i||(i=e.children[t].innerText.replace("\n",""))}else{var o=[];for(var a=0;a<e.children.length;a++){i=e.children[a].innerText.replace("\n","");i&&o.push(n.getValue(a))}i=o.join(",")}return i};
/**
         * Set the value of the element based on a string separeted by (,|;|\r\n)
         * @param {mixed} value - A string or array object with values
         */n.setValue=function(t){if(t){if(e.value!=t)if(Array.isArray(t))n.add(t);else{var i=(""+t).trim();var o=f(i);e.innerHTML="";n.add(o)}}else n.reset()};n.reset=function(){e.classList.add("jtags-empty");e.innerHTML="<div></div>";d()};n.isValid=function(){var t=0;for(var n=0;n<e.children.length;n++)e.children[n].classList.contains("jtags_error")&&t++;return t==0};
/**
         * Add one element from the suggestions to the element
         * @param {object} item - Node element in the suggestions container
         */n.selectIndex=function(e,t){var o=c.getNode();if(o){o.innerText=e;t&&o.setAttribute("data-value",t);o.classList.remove("jtags_error");i()||n.add("",true)}};
/**
         * Search for suggestions
         * @param {object} node - Target node for any suggestions
         */n.search=function(e){e.innerText};n.destroy=function(){e.removeEventListener("mouseup",y);e.removeEventListener("keydown",v);e.removeEventListener("keyup",m);e.removeEventListener("paste",g);e.removeEventListener("focus",b);e.removeEventListener("blur",x);e.parentNode.removeChild(e)};var s=function(t){if(e.children.length){var n=document.createRange();var i=window.getSelection();if(!t)t=e.childNodes[e.childNodes.length-1];n.setStart(t,t.length);n.collapse(true);i.removeAllRanges();i.addRange(n);e.scrollLeft=e.scrollWidth}};var l=function(t,n,i){var o=document.createElement("div");o.textContent=t||"";n&&o.setAttribute("data-value",n);i&&i.parentNode.classList.contains("jtags")?e.insertBefore(o,i.nextSibling):e.appendChild(o);return o};var d=function(){var t=n.getValue();if(t!=n.options.value){n.options.value=t;typeof n.options.onchange=="function"&&n.options.onchange(e,n,n.options.value);if(e.value!=n.options.value){e.value=n.options.value;typeof e.oninput=="function"&&e.oninput({type:"input",target:e,value:e.value})}}u()};var u=function(){for(var t=0;t<e.children.length;t++)if(e.children[t].tagName==="DIV")if(n.getValue(t)){e.children[t].classList.add("jtags_label");typeof n.options.validation=="function"&&n.getValue(t)?n.options.validation(e.children[t],e.children[t].innerText,e.children[t].getAttribute("data-value"))?e.children[t].classList.remove("jtags_error"):e.children[t].classList.add("jtags_error"):e.children[t].classList.remove("jtags_error")}else e.children[t].classList.remove("jtags_label");p()};var p=function(){if(e.innerText.trim())e.classList.remove("jtags-empty");else if(!e.children.length||e.children[0].tagName==="BR"){e.innerHTML="";s(l())}};
/**
         * Extract tags from a string
         * @param {string} text - Raw string
         * @return {Array} data - Array with extracted tags
         */var f=function(e){
/** @type {Array} */
var t=[];
/** @type {string} */var n="";e=e.trim();if(e){for(var i=0;i<e.length;i++)if(e[i]==","||e[i]==";"||e[i]=="\n"){if(n){t.push(n.trim());n=""}}else n+=e[i];n&&t.push(n)}return t};
/** @type {number} */var h=0;
/**
         * Processing event keydown on the element
         * @param e {object}
         */var v=function(t){h=window.getSelection().anchorOffset;p();if(t.key==="Tab"||t.key===";"||t.key===","){var a=window.getSelection().anchorOffset;a>1&&(i()?typeof n.options.onlimit=="function"&&n.options.onlimit(n,n.options.limit):n.add("",true));t.preventDefault()}else if(t.key=="Enter"){if(!o||!o.isOpened()){a=window.getSelection().anchorOffset;a>1&&(i()||n.add("",true));t.preventDefault()}}else t.key=="Backspace"&&e.children.length==1&&window.getSelection().anchorOffset<1&&t.preventDefault();o&&o.keydown(t);p()};
/**
         * Processing event keyup on the element
         * @param e {object}
         */var m=function(e){if(e.which==39){var t=window.getSelection().anchorOffset;t>1&&t==h&&n.add("",true)}else e.which==13||e.which==38||e.which==40?e.preventDefault():o&&o.keyup(e);u()};
/**
         * Processing event paste on the element
         * @param e {object}
         */var g=function(t){if(t.clipboardData||t.originalEvent.clipboardData)var i=(t.originalEvent||t).clipboardData.getData("text/plain");else if(window.clipboardData)i=window.clipboardData.getData("Text");var o=f(i);if(typeof n.options.onbeforepaste=="function"){var a=n.options.onbeforepaste(e,n,o);if(a===false){t.preventDefault();return false}a&&(o=a)}if(o.length>1){n.add(o,true);t.preventDefault()}else if(o[0]){document.execCommand("insertText",false,o[0]);t.preventDefault()}};
/**
         * Processing event mouseup on the element
         * @param e {object}
         */var y=function(t){if(t.target.parentNode&&t.target.parentNode.classList.contains("jtags")&&(t.target.classList.contains("jtags_label")||t.target.classList.contains("jtags_error"))){var i=t.target.getBoundingClientRect();i.width-(t.clientX-i.left)<16&&n.remove(t.target)}t.target==e&&s()};var b=function(){if(!e.classList.contains("jtags-focus")){e.children.length&&!n.getValue(e.children.length-1)||i()||l("");typeof n.options.onfocus=="function"&&n.options.onfocus(e,n,n.getValue());e.classList.add("jtags-focus")}};var x=function(){if(e.classList.contains("jtags-focus")){o&&o.close();for(var t=0;t<e.children.length-1;t++)n.getValue(t)||e.removeChild(e.children[t]);d();e.classList.remove("jtags-focus");typeof n.options.onblur=="function"&&n.options.onblur(e,n,n.getValue())}};var w=function(){"touchend"in document.documentElement===true?e.addEventListener("touchend",y):e.addEventListener("mouseup",y);e.addEventListener("keydown",v);e.addEventListener("keyup",m);e.addEventListener("paste",g);e.addEventListener("focus",b);e.addEventListener("blur",x);e.setAttribute("contenteditable",true);e.classList.add("jtags");n.setOptions(t);typeof n.options.onload=="function"&&n.options.onload(e,n);e.change=n.setValue;e.val=function(e){if(e===void 0)return n.getValue();n.setValue(e)};e.tags=n};w();return n}function ee(t,n){var i={};i.options={};var o={type:"image",extension:"*",input:false,minWidth:false,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:false,remoteParser:null};for(var a in o)n&&n.hasOwnProperty(a)?i.options[a]=n[a]:i.options[a]=o[a];i.options.multiple==true&&t.setAttribute("data-multiple",true);t.content=[];t.classList.add("jupload");i.options.input==true&&t.classList.add("input");i.add=function(e){if(i.options.multiple==false){t.content=[];t.innerText=""}if(i.options.type=="image"){var n=document.createElement("img");n.setAttribute("src",e.file);n.setAttribute("tabindex",-1);if(!t.getAttribute("name")){n.className="jfile";n.content=e}t.appendChild(n)}else{if(e.name)var o=e.name;else o=e.file;var a=document.createElement("div");a.innerText=o||i.options.type;a.classList.add("jupload-item");a.setAttribute("tabindex",-1);t.appendChild(a)}e.content&&(e.file=c.guid());t.content.push(e);typeof i.options.onchange=="function"&&i.options.onchange(t,e)};i.addFromFile=function(e){var t=e.type.split("/");if(t[0]==i.options.type){var n=new FileReader;n.addEventListener("load",(function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)}));n.readAsDataURL(e)}else alert(r.translate("This extension is not allowed"))};i.addFromUrl=function(e){if(e.substr(0,4)=="data"||i.options.remoteParser)if(e.substr(0,4)=="data"){var t=e.split(";");t=t[0].split("/");var n=t[0].replace("data:","");if(n==i.options.type){var o={file:e,name:"",extension:t[1],content:e};i.add(o)}else alert(i.options.text.extensionNotAllowed)}else{t=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e;m({url:e,type:"GET",dataType:"blob",success:function(e){}})}else console.error("remoteParser not defined in your initialization")};var s=i.options.type+"/"+i.options.extension;var l=document.createElement("input");l.type="file";l.setAttribute("accept",s);l.onchange=function(){for(var t=0;t<(this||e).files.length;t++)i.addFromFile((this||e).files[t])};i.options.multiple==true&&l.setAttribute("multiple",true);var d=null;t.addEventListener("click",(function(e){d=null;t.children.length&&e.target!==t?e.target.parentNode==t&&(d=e.target):c.click(l)}));t.addEventListener("dblclick",(function(e){c.click(l)}));t.addEventListener("dragenter",(function(e){t.style.border="1px dashed #000"}));t.addEventListener("dragleave",(function(e){t.style.border="1px solid #eee"}));t.addEventListener("dragstop",(function(e){t.style.border="1px solid #eee"}));t.addEventListener("dragover",(function(e){e.preventDefault()}));t.addEventListener("keydown",(function(e){if(d&&e.which==46){var n=Array.prototype.indexOf.call(t.children,d);if(n>=0){t.content.splice(n,1);d.remove();d=null}}}));t.addEventListener("drop",(function(e){e.preventDefault();e.stopPropagation();var n=(e.originalEvent||e).dataTransfer.getData("text/html");var o=(e.originalEvent||e).dataTransfer.files;if(o.length)for(var a=0;a<e.dataTransfer.files.length;a++)i.addFromFile(e.dataTransfer.files[a]);else if(n){i.options.multiple==false&&(t.innerText="");var r=document.createElement("div");r.innerHTML=n;var s=r.querySelectorAll("img");if(s.length)for(a=0;a<s.length;a++)i.addFromUrl(s[a].src)}t.style.border="1px solid #eee";return false}));t.val=function(e){if(e===void 0)return t.content&&t.content.length?t.content:null;t.innerText="";t.content=[];if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)typeof e[n]=="string"?i.add({file:e[n]}):i.add(e[n]);else typeof e=="string"&&i.add({file:e})};t.upload=t.image=i;return i}var te=o(195);var ne=o.n(te);var ie={...r,...c,version:"5.12.0",setExtensions:function(e){if(typeof e=="object"){var t=Object.keys(e);for(var n=0;n<t.length;n++)ie[t[n]]=e[t[n]]}},tracking:l,path:p,sorting:f,lazyLoading:h,ajax:m,animation:b,calendar:T,color:N,contextmenu:D,dropdown:S,editor:P,floating:F,form:q,mask:E,modal:U,notification:G,palette:A,picker:H,progressbar:Z,rating:$,search:J,slider:K,tabs:O,tags:Q,toolbar:R,upload:ee,validations:W};ie.image=ee;ie.image.create=function(e){var t=document.createElement("img");t.setAttribute("src",e.file);t.className="jfile";t.setAttribute("tabindex",-1);t.content=e;return t};ie.tracker=q;ie.loading=b.loading;ie.sha512=ne();const oe=function(){if(typeof window.jSuitesStateControl!=="undefined")return;window.jSuitesStateControl=[];const e=function(t,n){return!(!t[n.type]||t[n.type]!=n)||(!(!t.component||t.component!=n)||!!t.parentNode&&e(t.parentNode,n))};const t=function(t){let n=window.jSuitesStateControl;if(n&&n.length>0)for(let i=0;i<n.length;i++)n[i]&&!e(t,n[i])&&n[i].close()};let n=15;let i=false;let o={x:null,y:null};let a=document.createElement("div");a.classList.add("jtooltip");const r=function(e){return e&&(e.shadowRoot||e.tagName&&e.tagName.includes("-"))};const s=function(e){let t;let n;let i=e.path||e.composedPath&&e.composedPath();if(i){n=i[0];n&&r(n)&&!n.shadowRoot&&e.toElement&&(n=e.toElement)}else{t=e.target&&r(e.target)?e.target.shadowRoot:document;n=t.elementFromPoint(x,y)}return n};const l=function(e){if(e.changedTouches&&e.changedTouches[0]){var n=e.changedTouches[0].clientX;var o=e.changedTouches[0].clientY}else{n=e.clientX;o=e.clientY}let a=s(e);let r=a&&a.tagName==="DIV"&&a.getAttribute("contentEditable");let l=ie.findElement(a,"jpanel");if(!l||l.classList.contains("readonly")||r)i=false;else{let e=l.getBoundingClientRect();let t=0;l.style.rotate&&(t=parseFloat(l.style.rotate));let r="move";a.getAttribute("data-action")?r=a.getAttribute("data-action"):l.style.cursor?r="resize":l.style.cursor="move";i={action:r,a:t,e:l,x:n,y:o,l:e.left,t:e.top,b:e.bottom,r:e.right,w:e.width,h:e.height,d:l.style.cursor,actioned:false};l.style.width||(l.style.width=e.width+"px");l.style.height||(l.style.height=e.height+"px")}t(a);h(e)};const d=function(e,t,n,i,o,a){const r=n-e;const s=i-t;const l=o-e;const d=a-t;let c=Math.atan2(s,r);let u=Math.atan2(d,l);let p=u-c;p*=180/Math.PI;p<0&&(p+=360);return p};const c=function(e){if(i&&i.e){typeof i.e.refresh=="function"&&o.actioned&&i.e.refresh();i.e.style.cursor=""}o={x:null,y:null};i=false};const u=function(e){if(i){let n=e.clientX||e.pageX;let s=e.clientY||e.pageY;if(o.x==null&&o.y==null){o.x=n;o.y=s}if(i.action==="move"){var t=n-o.x;var a=s-o.y;var r=i.e.offsetTop+a;var l=i.e.offsetLeft+t;i.e.style.top=r+"px";i.e.style.left=l+"px";if(typeof i.e.refresh=="function"){o.actioned=true;i.e.refresh("position",r,l)}}else if(i.action==="rotate"){let e=i.l+i.w/2;let t=i.t+i.h/2;let a=d(e,t,i.x,i.y,n,s);a+=i.a%360;a=Math.round(a/2)*2;i.e.style.rotate=`${a}deg`;if(typeof i.e.refresh=="function"){o.actioned=true;i.e.refresh("rotate",a)}}else if(i.action==="resize"){let t=null;let a=null;let r=null;let l=null;if(i.d=="e-resize"||i.d=="ne-resize"||i.d=="se-resize"){r=i.e.offsetWidth+(n-o.x);e.shiftKey&&(l=i.e.offsetHeight+(n-o.x)*(i.e.offsetHeight/i.e.offsetWidth))}else if(i.d==="w-resize"||i.d=="nw-resize"||i.d=="sw-resize"){a=i.e.offsetLeft+(n-o.x);r=i.e.offsetLeft+i.e.offsetWidth-a;e.shiftKey&&(l=i.e.offsetHeight-(n-o.x)*(i.e.offsetHeight/i.e.offsetWidth))}if(i.d=="s-resize"||i.d=="se-resize"||i.d=="sw-resize")l||(l=i.e.offsetHeight+(s-o.y));else if(i.d==="n-resize"||i.d=="ne-resize"||i.d=="nw-resize"){t=i.e.offsetTop+(s-o.y);l=i.e.offsetTop+i.e.offsetHeight-t}t&&(i.e.style.top=t+"px");a&&(i.e.style.left=a+"px");r&&(i.e.style.width=r+"px");l&&(i.e.style.height=l+"px");if(typeof i.e.refresh=="function"){o.actioned=true;i.e.refresh("dimensions",r,l)}}o.x=n;o.y=s}else{let t=s(e);let i=ie.findElement(t,"jpanel");if(i){let o=i.classList.contains("jpanel-controls");if(o){let e=t.getAttribute("data-position");i.style.cursor=e||""}else if(i.getAttribute("tabindex")){let t=i.getBoundingClientRect();e.clientY-t.top<n?t.width-(e.clientX-t.left)<n?i.style.cursor="ne-resize":e.clientX-t.left<n?i.style.cursor="nw-resize":i.style.cursor="n-resize":t.height-(e.clientY-t.top)<n?t.width-(e.clientX-t.left)<n?i.style.cursor="se-resize":e.clientX-t.left<n?i.style.cursor="sw-resize":i.style.cursor="s-resize":t.width-(e.clientX-t.left)<n?i.style.cursor="e-resize":e.clientX-t.left<n?i.style.cursor="w-resize":i.style.cursor=""}}}};let p=["n","ne","e","se","s","sw","w","nw","rotate"];p.forEach((function(e,t){p[t]=document.createElement("div");p[t].classList.add("jpanel-action");if(e==="rotate")p[t].setAttribute("data-action","rotate");else{p[t].setAttribute("data-action","resize");p[t].setAttribute("data-position",e+"-resize")}}));let f;const h=function(e){let t=s(e);let n=ie.findElement(t,"jpanel");if(n&&!n.classList.contains("readonly")&&n.classList.contains("jpanel-controls")){n.append(...p);n.classList.contains("jpanel-rotate")||p[p.length-1].remove();f=n}else v(e)};const v=function(e){if(f){p.forEach((function(e){e.remove()}));f=null}};const m=function(e){let t=s(e);var n=t.getAttribute("data-tooltip");if(n){a.innerText=n;if(e.changedTouches&&e.changedTouches[0]){var i=e.changedTouches[0].clientX;var o=e.changedTouches[0].clientY}else{i=e.clientX;o=e.clientY}a.style.top=o+"px";a.style.left=i+"px";document.body.appendChild(a)}else if(a.innerText){a.innerText="";document.body.removeChild(a)}};const g=function(e){var t=document.activeElement;if(t&&typeof t.contextmenu=="function"){t.contextmenu(e);e.preventDefault();e.stopImmediatePropagation()}else{t=ie.findElement(e.target,(function(e){return e.tagName&&e.getAttribute("aria-contextmenu-id")}));if(t){var n=document.querySelector("#"+t);if(n){n.contextmenu.open(e);e.preventDefault();e.stopImmediatePropagation()}else console.error("JSUITES: contextmenu id not found: "+t)}}};const b=function(e){let t=document.activeElement;if(t&&e.key==="Delete"&&typeof t.delete=="function"){t.delete();e.preventDefault();e.stopImmediatePropagation()}let n=window.jSuitesStateControl;if(n&&n.length>0){t=n[n.length-1];if(t&&e.key==="Escape"&&typeof t.isOpened=="function"&&typeof t.close=="function"&&t.isOpened()){t.close();e.preventDefault();e.stopImmediatePropagation()}}};const w=function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&ie.mask(e)};document.addEventListener("focusin",h);document.addEventListener("mouseup",c);document.addEventListener("mousedown",l);document.addEventListener("mousemove",u);document.addEventListener("mouseover",m);document.addEventListener("keydown",b);document.addEventListener("contextmenu",g);document.addEventListener("input",w)};typeof document!=="undefined"&&oe();var ae=ie}();t=a.default})();return t}));var n=t;export{n as default};

