<div class="nested-form-wrapper fr-mb-3w" data-new-record="<%= f.object.new_record? %>">
  <% unique_id = "#{f.object.object_id}" %>
  <div class="fr-h6 fr-capitalize"><%= type_suspension %> <button type="button" data-action="acte-form#removeDisable nested-form#remove"><span class="fr-icon-delete-bin-line fr-icon--sm cbleu"></span></button></div>
  <div class="fr-grid-row fr-grid-row--gutters">
    <div class="fr-col-12 fr-col-lg-6">
      <div class="fr-select-group">
        <label for="date_suspension_#{unique_id}" class="fr-label">Date début <%= type_suspension %>*</label>
        <%= f.text_field :date_suspension, class: "fr-select", data: { controller: "flatpickr", acte_form_target: "fieldRequire", action: "change->acte-form#toggleAddButton change->acte-form#checkRepriseVsSuspension"}, value: format_date(f.object.date_suspension), id: "date_suspension_#{unique_id}", placeholder: "- sélectionner -", required: true %>
      </div>
    </div>
    <div class="fr-col-12 fr-col-lg-6">
      <div class="fr-select-group">
        <label for="motif_#{unique_id}" class="fr-label">Motif <%= type_suspension %>*</label>
        <%= f.select :motif, options_for_select(@liste_motifs_suspension.map { |decision| [decision, decision] }, f.object.motif), {prompt: "- sélectionner -" }, { id: "motif_#{unique_id}", class: "fr-select", required: true, data: {acte_form_target: "fieldRequire", action: "change->acte-form#toggleAddButton"}} %>
      </div>
    </div>
  </div>
  <div class="fr-grid-row fr-grid-row--gutters">
    <div class="fr-col-12 fr-col-lg-12">
      <div class="fr-input-group">
        <label class="fr-label">Observations</label>
        <%= f.text_area :observations, class: 'fr-input', rows: 3 %>
      </div>
    </div>
  </div>
  <div class="fr-grid-row fr-grid-row--gutters">
    <div class="fr-col-12 fr-col-lg-6">
      <div class="fr-select-group">
        <label for="date_reprise_#{unique_id}" class="fr-label">Date fin <%= type_suspension %></label>
        <%= f.text_field :date_reprise, class: "fr-select", data: { controller: "flatpickr", acte_form_target: "fieldRequire", action: "change->acte-form#toggleAddButton change->acte-form#checkRepriseVsSuspension"}, value: format_date(f.object.date_reprise), id: "date_reprise_#{unique_id}", placeholder: "- sélectionner -", required: true %>
        <p class="fr-message cwarning fr-text--small fr-hidden" id="message-reprise-suspension-<%= unique_id %>">Attention, la date de fin est antérieure à la date de début</p>
      </div>
    </div>
  </div>

  <%= f.hidden_field :_destroy %>
</div>