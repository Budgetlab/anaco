<% content_for :title do %>Formulaire suivi d'un acte HT2 | ANACO
<% end %>
<main role="main" class="containtAll">
  <div class="fr-container">
    <div class="fr-grid-row fr-grid-row--gutters fr-mb-4w">
      <div class="fr-col-12 fr-col-lg-12">
        <h1 class="fr-mt-4w">Formulaire <%= @acte.type_acte %> HT2</h1>
      </div>
    </div>

    <div class="fr-grid-row fr-grid-row--gutters fr-mb-4w">
      <div class="fr-col-12 fr-col-lg-3">
        <nav class="fr-sidemenu fr-sidemenu--sticky-full-height" role="navigation" aria-labelledby="sidemenu-title">
          <div class="fr-sidemenu__inner">
            <button aria-expanded="false" aria-controls="sidemenu-collapse-94" type="button" class="fr-sidemenu__btn">Voir
              les étapes
            </button>
            <div class="fr-collapse" id="sidemenu-collapse-94">

              <ul class="fr-sidemenu__list">

                <li class="fr-sidemenu__item">
                  <a aria-current="true" class="fr-sidemenu__link">Étape 1 : Informations sur l'acte</a>
                </li>
                <li class="fr-sidemenu__item">
                  <a disabled class="fr-sidemenu__link">Étape 2 : Contrôle de la disponibilité des crédits</a>
                </li>

                <li class="fr-sidemenu__item">
                  <a disabled class="fr-sidemenu__link">Étape 3 : Contrôle de l’imputation de la dépense</a>
                </li>
                <li class="fr-sidemenu__item">
                  <a disabled class="fr-sidemenu__link">Étape 4 : Contrôle de l’exactitude de l’évaluation de la
                    consommation des crédits</a>
                </li>
                <li class="fr-sidemenu__item">
                  <a disabled class="fr-sidemenu__link">Étape 5 : Contrôle de la compatibilité avec la programmation
                    annuelle et pluriannuelle</a>
                </li>
                <li class="fr-sidemenu__item">
                  <a disabled class="fr-sidemenu__link">Étape 6 : Proposition de décision de contrôle</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>

      <div class="fr-col-12 fr-col-lg-9">
        <h2>Informations sur l'acte</h2>
        <div class="cwarning fr-mb-2w">Tous les champs comportant un astérisque (*) sont à remplir obligatoirement.</div>
        <%= form_with(model: @acte) do |f| %>
          <%= f.hidden_field :type_acte, value: @acte.type_acte %>
          <div class="fr-grid-row fr-grid-row--gutters">
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="instructeur" class="fr-label">Initiales de l'instructeur*</label>
                <%= f.text_field :instructeur, id: "instructeur", class: "fr-input" %>
              </div>
            </div>
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-select-group">
                <label for="nature" class="fr-label">Nature/type de l'acte*</label>
                <%= f.select :nature, options_for_select([["- sélectionner -", ""]] + @liste_natures.map { |nature| [nature, nature] }),{}, {id:"nature",class:"fr-select"}%>
              </div>
            </div>
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="montant_ae" class="fr-label">Montant estimatif global (AE)*</label>
                <%= f.number_field :montant_ae, id: "montant_ae", class: "fr-input" %>
              </div>
            </div>
          </div>
          <div class="fr-grid-row fr-grid-row--gutters">
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-select-group">
                <label for="date_chorus" class="fr-label">Date de réception sur Chorus</label>
                <%= f.text_field :date_chorus, class: "fr-select", data: { controller: "flatpickr"}, id: "date_chorus", placeholder: "- sélectionner -" %>
              </div>
            </div>
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="numero_chorus" class="fr-label">Numéro acte Chorus</label>
                <%= f.text_field :numero_chorus, id: "numero_chorus", class: "fr-input" %>
              </div>
            </div>
          </div>
          <div class="fr-grid-row fr-grid-row--gutters">
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="beneficiare" class="fr-label">Bénéficaire</label>
                <%= f.text_field :beneficiare, id: "beneficiare", class: "fr-input" %>
              </div>
            </div>
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="objet" class="fr-label">Objet</label>
                <%= f.text_field :objet, id: "objet", class: "fr-input" %>
              </div>
            </div>
            <div class="fr-col-12 fr-col-lg-4">
              <div class="fr-input-group">
                <label for="ordonnateur" class="fr-label">Ordonnateur</label>
                <%= f.text_field :ordonnateur, id: "ordonnateur", class: "fr-input" %>
              </div>
            </div>
          </div>
          <div class="fr-grid-row fr-grid-row--gutters">
            <div class="fr-col-12 fr-col-lg-12 fr-my-2w">
              <ul class="fr-btns-group fr-btns-group--icon-left fr-btns-group--inline fr-btns-group--right">
                <li><%= f.submit "Valider et passer à l'étape suivante", class: 'fr-btn' %></li>
              </ul>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</main>